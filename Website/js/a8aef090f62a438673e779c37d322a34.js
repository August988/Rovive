;// bundle: page___7077df1f0de68229b4e83baaa3025f0c_m
;// files: ~/viewapp/common/assetsExplorer/assetsExplorer.js, ~/viewapp/common/assetsExplorer/controllers/assetsExplorerController.js, ~/viewapp/common/assetsExplorer/services/assetsService.js, ~/viewapp/pages/favorites/controllers/favoritesContentController.js, extensions/Thumbnails.js, utilities/popover.js, Navigation/ShopAmazon.js, GenericConfirmation.js, utilities/dialog.js

;// ~/viewapp/common/assetsExplorer/assetsExplorer.js
"use strict";var assetsExplorer=angular.module("assetsExplorer",["robloxApp.helpers"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(n,t,i){var o=function(n){return n.split(" ").join("-").toLowerCase()},c=function(n){return"/"+o(n.name)},a=function(n,t){return"/"+o(n.name)+"/"+o(t.name)},u,r,h,f,e;if(typeof Roblox=="undefined"||typeof Roblox.AssetsExplorerModel=="undefined")throw new Error("Roblox.AssetsExplorerModel should be defined");var l=Roblox.AssetsExplorerModel.assetCategories,v=Roblox.AssetsExplorerModel.defaultCategory,s=window.location.href;for(s.indexOf("#")!==-1&&s.indexOf("#!")===-1&&(window.location.href=s.replace("#","#!")),i.html5Mode(!1),i.hashPrefix("!"),t.otherwise(c(v)),u=0;u<l.length;u++)for(r=l[u],n.state(r.name,{url:c(r),category:r,subcategory:r.items[0]}),h=r.items,f=0;f<h.length;f++)e=h[f],n.state(r.name+"/"+e.name,{url:a(r,e),category:r,subcategory:e})}]);

;// ~/viewapp/common/assetsExplorer/controllers/assetsExplorerController.js
"use strict";assetsExplorer.controller("assetsExplorerController",["$scope",function(n){n.staticData=Roblox.AssetsExplorerModel,n.currentData=n.currentData?n.currentData:{currentPage:1,totalPages:1,category:null,subcategory:null,nextPageCursor:null,previousPageCursor:null,thumbSize:{thumbDefault:110,thumbLarge:140,thumbWidth:0,thumbHeight:0},assetTypeUrl:n.staticData.absoluteCatalogUrl,AssetTypeId:0,itemSection:"catalog",templateVisible:!0}}]);

;// ~/viewapp/common/assetsExplorer/services/assetsService.js
"use strict";assetsExplorer.factory("assetsService",["$http","$q","$log",function(n,t,i){function o(n,t,i){var f=[],r;if(u.hasOwnProperty(n))for(r=(t-1)*i;r<Math.min(t*i,u[n].length);r++)f.push(u[n][r]);return f}function h(n,t){for(var i=0;i<t.length;i++)u[n].push(t[i])}function c(n){var t="",i;for(i in n)n.hasOwnProperty(i)&&(t+="_"+i+":"+n[i]);return u.hasOwnProperty(t)||(u[t]=[]),t}function s(n,t,i){return u[n].length<=t*i}var u={},f={},e={},r={currentPage:0,itemsPerPage:30,userId:Roblox.AssetsExplorerModel.userId,assetTypeId:0,isExclusiveStartPagingEnabled:!1,getItemSection:function(n){switch(n.name){case"Decals":case"Models":case"Audio":case"Plugins":case"Animations":case"Meshes":return"library"}switch(n.name){case"Places":case"Badges":case"Game Passes":return null}return"catalog"},setCategory:function(n){r.currentCategory=n;var t=n.items[0];return r.setSubcategory(t),!0},setSubcategory:function(n){return n!==null&&typeof n!="undefined"&&(r.currentSubcategory=n,r.assetTypeId=r.currentSubcategory.id),!0},setPage:function(n){return n<0?(i.debug("Invalid attempt to set page to page "+n),!1):(r.currentPage=n,!0)},setIsExclusiveStartPagingEnabled:function(n){return r.isExclusiveStartPagingEnabled=n,!0},beginUpdateAssetsItems:function(l,a){var b=t.defer(),g="/users/"+a+"/list-json",w=r.itemsPerPage,p=r.currentPage,v={userId:r.userId,assetTypeId:r.assetTypeId,pageNumber:p,thumbWidth:l,thumbHeight:l,itemsPerPage:w},nt,y,k,d;return(r.currentSubcategory!=null&&r.currentSubcategory.filter!=null&&(nt=r.currentSubcategory.filter,v.placeTab=nt),r.isExclusiveStartPagingEnabled)?(v.itemsPerPage=50,y=c({userId:v.userId,assetTypeId:v.assetTypeId,placeTab:v.placeTab}),k=o(y,p,w),v.cursor=f[y]||"",k.length>=w||!v.cursor&&f.hasOwnProperty(y)?(d={Data:{Start:(p-1)*w,End:Math.min(p*w,u[y].length),Items:k,ItemsPerPage:v.itemsPerPage,Page:p,PageType:a,nextPageCursor:v.cursor||!s(y,w,p),previousPageCursor:p>1},IsValid:!0},e.hasOwnProperty(y)&&(d.Data.TotalItems=e[y]),b.resolve(d)):(Number(v.cursor)&&(v.pageNumber=Number(v.cursor)),n({method:"GET",url:g,params:v,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0}}).success(function(n){var t=n.Data||{};h(y,t.Items||[],p,v.itemsPerPage),t.Items=o(y,p,w),t.Page=p,f[y]=t.nextPageCursor,t.nextPageCursor=t.nextPageCursor||!s(y,w,p),t.TotalItems&&(e[y]=t.TotalItems),b.resolve(n)}).error(function(n){i.debug("Error getting "+a+" items"),b.reject(n)})),b.promise):(n({method:"GET",url:g,params:v,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0}}).success(function(n){b.resolve(n)}).error(function(n){i.debug("Error getting "+a+" items"),b.reject(n)}),b.promise)}};return r}]);

;// ~/viewapp/pages/favorites/controllers/favoritesContentController.js
"use strict";assetsExplorer.controller("favoritesContentController",["$scope","assetsService","$document","$location","$log","$q","$timeout",function(n,t,i,r,u,f,e){n.assetsListContent={assetItems:{}},n.getFavoriteItems=function(i,r,u,f){t.setCategory(i),t.setSubcategory(u),t.setPage(r),t.beginUpdateAssetsItems(f,"favorites").then(function(t){var i=t.Data.Page?+t.Data.Page:1;n.currentData.currentPage=i,n.currentData.totalPages=t.Data.TotalItems?Math.ceil(t.Data.TotalItems/t.Data.ItemsPerPage):0,n.numItems=t.Data.TotalItems===0?0:t.Data.Start+1,n.currentData.nextPageCursor=t.Data.nextPageCursor,n.currentData.previousPageCursor=t.Data.previousPageCursor,n.assetsListContent.assetItems={data:t,hasError:!1},n.currentData.templateVisible=!0},function(t){n.currentData.currentPage=1,n.currentData.totalPages=1,n.currentData.nextPageCursor=n.currentData.previousPageCursor=null,n.assetsListContent.assetItems={data:t,hasError:!0}})},n.nextPage=function(){(n.currentData.nextPageCursor||n.currentData.currentPage<n.currentData.totalPages)&&n.getFavoriteItems(n.currentData.category,n.currentData.currentPage+1,n.currentData.subcategory)},n.previousPage=function(){(n.currentData.previousPageCursor||n.currentData.currentPage>1)&&n.getFavoriteItems(n.currentData.category,n.currentData.currentPage-1,n.currentData.subcategory)},n.$on("$stateChangeSuccess",function(i,r,u){n.currentData.templateVisible=!1,e(function(){var o=u.page?u.page:1,i,f,e;n.currentData.activeTab=r.name,i=r.category,f=r.subcategory,n.currentData.category=i,n.currentData.subcategory=f,n.currentData.AssetTypeId=f.id,n.currentData.thumbSize.thumbWidth=n.currentData.thumbSize.thumbDefault,n.currentData.thumbSize.thumbHeight=n.currentData.thumbSize.thumbDefault,e=t.getItemSection(i),e==="library"?(n.currentData.assetTypeUrl=n.staticData.absoluteLibraryUrl,n.currentData.itemSection="library"):e==="catalog"?(n.currentData.assetTypeUrl=n.staticData.absoluteCatalogUrl,n.currentData.itemSection="catalog"):n.currentData.itemSection=null,n.getFavoriteItems(i,o,f,n.currentData.thumbSize.thumbWidth)})})}]);

;// extensions/Thumbnails.js
$(function(){var n=$("#image-retry-data"),t=n?n.data("image-retry-timer"):1500,i=n?n.data("image-retry-max-times"):10;$.fn.loadRobloxThumbnails=function(){function n(r){var u=r.data("retry-url");u&&$.ajax({url:u,dataType:"json",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(u){if(u.Final){var f=r.find("img");f.length===1?f.attr("src",u.Url):r.find("img.original-image").attr("src",u.Url),r.removeAttr("data-retry-url")}else r.retryCount=r.retryCount?r.retryCount+1:1,r.retryCount<i&&setTimeout(function(){n(r)},t)}})}return this.each(function(){var i=$(this);setTimeout(function(){n(i)},t)})}});

;// utilities/popover.js
var Roblox=Roblox||{};Roblox.Popover=function(){"use strict";function u(n,i){var u=$(n),f=$(i),e=$(t),h=e.outerWidth(),c=u.find(r).outerWidth(),l=e.offset().left,o=0,s;(u.hasClass("bottom")||u.hasClass("top"))&&(s=$("body").outerWidth()-parseInt(f.width()+f.offset().left),o=$("body").outerWidth()-l-s-h/2-c/2,u.find(r).css("right",o))}function f(t){return t.data("hiddenClassName")&&(n=t.data("hiddenClassName")),n}function o(){$(t).on("click touchstart",function(t){var s=$(this).data("bind"),h=s?"#"+s:i,r=$(h),c=$(this).data("container"),l=c?"#"+c:e,o;n=f(r),r.hasClass("manual")||r.toggleClass(n),o=!r.hasClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isOpen:o,eventType:t.type}),o&&u(h,l)})}function s(){$("body").on("click touchstart",function(r){$(t).each(function(){var u=$(this).data("bind"),t=u?$("#"+u):$(i),o="roblox-popover-open-always",e="roblox-popover-close";if(n=f(t),$(t).hasClass(o)&&!$(r.target).hasClass(e))return!1;!$(r.target).hasClass(e)&&($(this).is(r.target)||$(this).has(r.target).length!==0||t.has(r.target).length!==0||t.hasClass(n)||r.type!=="click")||(t.addClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isHidden:!0,eventType:r.type}))})})}function h(){o(),s()}var t=".roblox-popover",i=".roblox-popover-content",e=".roblox-popover-container",r=".arrow",n="hidden";return $(function(){h()}),{setUpTrianglePosition:u}}();

;// Navigation/ShopAmazon.js
Roblox=Roblox||{},Roblox.ShopAmazon=function(){function t(){$("a.roblox-shop-interstitial").on("click",function(n){n.preventDefault(),Roblox.Dialog.open({titleText:"You are leaving ROBLOX",bodyContent:r(),allowHtmlContentInBody:!0,acceptText:"Continue to Shop",declineText:"Cancel",xToCancel:!0,acceptColor:Roblox.Dialog.green,declineColor:Roblox.Dialog.white,onAccept:i})})}function i(){window.open(n,"_blank")}function r(){return"<p>Your are about to visit our amazon store. You will be redirected to ROBLOX merchandise store on <a class='text-link' target='_blank' href='"+n+"' >Amazon.com</a>.</p> <p>Please note that you need to be over 18 to purchase products online. The amazon store is not part of rovive.pro and is governed by a separate privacy policy.</p>"}function u(){t()}var n="https://www.amazon.com/roblox?&_encoding=UTF8&tag=r05d13-20&linkCode=ur2&linkId=4ba2e1ad82f781c8e8cc98329b1066d0&camp=1789&creative=9325";$(function(){u()})}();

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// utilities/dialog.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Dialog=="undefined"&&(Roblox.Dialog=function(){function d(){n.isOpen=!1,r()}function nt(r){var v,s,h,o,a;n.isOpen=!0,v={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.Dialog.yes,declineText:Roblox.Resources.Dialog.No,acceptColor:f,declineColor:e,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},cssClass:null},r=$.extend({},v,r),u.overlayClose=r.dismissable,u.escClose=r.dismissable,s=$(t),s.html(r.acceptText),s.attr("class",r.acceptColor),s.unbind(),s.bind("click",function(){return l(s)?!1:(r.fieldValidationRequired?y(r.onAccept):c(r.onAccept),!1)}),h=$(i),h.html(r.declineText),h.attr("class",r.declineColor),h.unbind(),h.bind("click",function(){return l(h)?!1:(c(r.onDecline),!1)}),o=$('[data-modal-type="confirmation"]'),o.find(".modal-title").text(r.titleText),r.imageUrl==null?o.addClass("noImage"):(o.find("img.modal-thumb").attr("src",r.imageUrl),o.removeClass("noImage")),r.cssClass!=null&&o.addClass(r.cssClass),r.allowHtmlContentInBody?o.find(".modal-message").html(r.bodyContent):o.find(".modal-message").text(r.bodyContent),$.trim(r.footerText)==""?o.find(".modal-footer").hide():o.find(".modal-footer").show(),r.allowHtmlContentInFooter?o.find(".modal-footer").html(r.footerText):o.find(".modal-footer").text(r.footerText),o.modal(u),a=$(".modal-header .close"),a.unbind(),a.bind("click",function(){return c(r.onCancel),!1}),r.xToCancel||a.hide(),$("#rbx-body").addClass("modal-mask"),r.onOpenCallback()}function a(n){n.hasClass(e)?n.addClass(h):n.hasClass(v)?n.addClass(o):n.hasClass(f)&&n.addClass(s)}function l(n){return n.hasClass(s)||n.hasClass(h)||n.hasClass(o)?!0:!1}function p(){var n=$(t),r=$(i);a(n),a(r)}function w(){var u=$(t),r=$(i),n=s+" "+h+" "+o;u.removeClass(n),r.removeClass(n)}function b(){if(n.isOpen){var i=$(t);i.click()}}function k(){var n=$(i);n.click()}function r(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function c(n){r(),typeof n=="function"&&n()}function y(n){if(typeof n=="function"){var t=n();if(t!=="undefined"&&t==!1)return!1}r()}function tt(n,t){var i=$(".modal-body");n?(i.find(".modal-btns").hide(),i.find(".modal-processing").show()):(i.find(".modal-btns").show(),i.find(".modal-processing").hide()),typeof t!="undefined"&&t!==""&&$.modal.close("."+t)}var v="btn-primary-md",f="btn-secondary-md",e="btn-control-md",o="btn-primary-md disabled",s="btn-secondary-md disabled",h="btn-control-md disabled",g="btn-none",t=".modal-btns #confirm-btn",i=".modal-btns #decline-btn",n={isOpen:!1},u={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:d,focus:!1};return{open:nt,close:r,disableButtons:p,enableButtons:w,clickYes:b,clickNo:k,status:n,toggleProcessing:tt,green:v,blue:f,white:e,none:g}}()),$(document).keypress(function(n){Roblox.Dialog.isOpen&&n.which===13&&Roblox.Dialog.clickYes()});
