;// bundle: page___689c4a04bd4c945ea501fad709406363_m
;// files: utilities/robloxAds.js, ~/Generated/js/Roblox_TranslationResources_Feature_CatalogResources_en_us_standard.js, utilities/sharedElementManipulator.js, ~/viewapp/pages/catalog/catalog.js, ~/viewapp/common/services/abpService.js, ~/viewapp/pages/catalog/services/constantsService.js, ~/viewapp/pages/catalog/constants/catalogConstants.js, ~/viewapp/pages/catalog/directives/itemCardDirective.js, ~/viewapp/pages/catalog/directives/accordionMenuDirective.js, ~/viewapp/pages/catalog/directives/catalogStatePropertiesDirective.js, ~/viewapp/pages/catalog/controllers/catalogController.js, ~/viewapp/pages/catalog/controllers/breadcrumbsController.js, ~/viewapp/pages/catalog/services/catalogService.js, extensions/Thumbnails.js, pageStyleNotifications.js, ~/viewapp/common/directives/verticalMenuDirective.js, ~/viewapp/common/directives/paginationDirective.js, ~/Generated/js/Roblox_TranslationResources_Feature_ShopDialogResources_en_us_standard.js, utilities/popover.js, captcha/constants/captchaConstants.js, captcha/captchaLogger.js, captcha/captchaService.js, ~/viewapp/widgets/captcha/captcha.js, ~/viewapp/widgets/captcha/constants/captchaConstants.js, ~/viewapp/widgets/captcha/directives/captchaDirective.js, ~/viewapp/widgets/captcha/services/captchaInterface.js, Tracking/FormEvents.js, ~/viewapp/common/formEvents/formEvents.js, ~/viewapp/common/formEvents/directives/formInteraction.js, ~/viewapp/common/formEvents/directives/formContext.js, ~/viewapp/common/constants/urlConstants.js, ~/viewapp/common/constants/phoneConstants.js, ~/viewapp/common/services/phoneService.js, ~/viewapp/common/directives/toggleLoadingDirective.js, ~/viewapp/common/components/systemFeedback/systemFeedbackComponent.js, ~/viewapp/widgets/login/login.js, ~/Generated/js/Roblox_TranslationResources_Authentication_LoginResources_en_us_standard.js, ~/viewapp/widgets/login/constants/loginConstants.js, ~/viewapp/widgets/login/services/loginLanguageService.js, ~/viewapp/widgets/login/services/loginService.js, ~/viewapp/widgets/login/controllers/verifyEmailController.js, ~/viewapp/widgets/login/controllers/loginFormController.js, ~/viewapp/widgets/login/components/loginPageComponent.js, ~/viewapp/widgets/login/components/loginFormComponent.js, Navigation/ShopAmazon.js, GenericConfirmation.js, utilities/dialog.js, common/deviceMeta.js

;// utilities/robloxAds.js
"use strict";var Roblox=Roblox||{};Roblox.AdsHelper=Roblox.AdsHelper||{},Roblox.AdsLibrary={},Roblox.AdsLibrary.adsIdList=["Skyscraper-Abp-Left","Skyscraper-Abp-Right","Leaderboard-Abp","GamePageAdDiv1","GamePageAdDiv2","GamePageAdDiv3","ProfilePageAdDiv1","ProfilePageAdDiv2"],Roblox.AdsLibrary.adsParameters={"Skyscraper-Abp-Left":{element:$("#Skyscraper-Abp-Left"),template:null,fitTwoAds:!0,fitOneAd:!1,isSkyscraper:!0},"Skyscraper-Abp-Right":{element:$("#Skyscraper-Abp-Right"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isSkyscraper:!0},"Leaderboard-Abp":{element:$("#Leaderboard-Abp"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isLeaderboard:!0},GamePageAdDiv1:{element:$("#GamePageAdDiv1"),template:null,isPageAd:!0},GamePageAdDiv2:{element:$("#GamePageAdDiv2"),template:null,isPageAd:!0},GamePageAdDiv3:{element:$("#GamePageAdDiv3"),template:null,isPageAd:!0},ProfilePageAdDiv1:{element:$("#ProfilePageAdDiv1"),template:null,isPageAd:!0},ProfilePageAdDiv2:{element:$("#ProfilePageAdDiv2"),template:null,isPageAd:!0}},Roblox.AdsHelper.AdRefresher=function(){function c(n){return!n||!$.trim($(n).html())}function h(n){t.push(n)}function s(){return googletag.pubadsReady}function r(n){var u,f,e,i;typeof n=="undefined"&&(n=v),u=!1;for(f in t){if(e="#"+t[f]+" [data-js-adtype]",i=$(e),typeof i=="undefined")return;if(i.attr("data-js-adtype")==="iframead")o(i);else if(i.attr("data-js-adtype")==="gptAd")if(s())u=!0;else if(n>0){setTimeout(function(){r(--n)},y);break}}u&&googletag.cmd.push(function(){googletag.pubads().refresh()})}function o(n){var i=n.attr("src"),r,u,t;typeof i=="string"&&(r=i.indexOf("?")<0?"?":"&",u=i+r+"nocache="+(new Date).getMilliseconds().toString(),typeof n[0]!="undefined")&&(t=n[0].contentDocument,t===undefined&&(t=n[0].contentWindow),t.location.href!=="about:blank"&&t.location.replace(u))}function n(n,t,i){i.length&&c(i)&&(i.append(n),r())}function b(){for(var u=$(window).width(),f,r,t,i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t&&!t.template&&(f=t.element,t.template=f.html());for(i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)(r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t)&&(t.isSkyscraper?u>=e&&t.fitTwoAds?n(t.template,r,t.element):u<e&&u>=l?t.fitOneAd?n(t.template,r,t.element):t.element.empty():t.element.empty():t.isLeaderboard?u<p?t.element.empty():n(t.template,r,t.element):t.isPageAd&&(u<w?t.element.empty():n(t.template,r,t.element)))}var t=[],i=20,u=970,f=160,p=728,y=100,v=16,e=$("[data-max-width-for-two-ads]").attr("data-max-width-for-two-ads")||u+f*2+48-i,l=$("[data-max-width-for-one-ads]").attr("data-max-width-for-one-ads")||u+f+24-i,a=1024,w=a-i;return{registerAd:h,refreshAds:r,adjustAdsFitScreen:b,getAds:n}}(),Roblox.AdsHelper.DynamicAdCreator=function(){function n(){var n=$(".dynamic-ad").filter(".unpopulated");n.each(function(n,t){var i=$(t),u=i.attr("data-ad-slot"),f=parseInt(i.attr("data-ad-width")),e=parseInt(i.attr("data-ad-height")),r=i.children(".ad-slot").attr("id");googletag.cmd.push(function(){var n=googletag.defineSlot(u,[f,e],r).addService(googletag.pubads());googletag.display(r),googletag.pubads().refresh([n])}),i.removeClass("unpopulated")})}return{populateNewAds:n}}(),$(function(){$(window).resize(function(){Roblox.AdsHelper.AdRefresher.adjustAdsFitScreen()})});

;// ~/Generated/js/Roblox_TranslationResources_Feature_CatalogResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Feature.Catalog"]={"Action.BuyRobux":"Buy Robux","Action.Dialog.AddGearOk":"OK","Action.Filter.Apply":"Apply","Action.Filter.Cancel":"Cancel","Action.Go":"Go","Action.ViewAllItems":"View All Items","Description.Dialog.AddGearBody":"To add gear to your game, find an item in the catalog and click the Add to Game button. The item will automatically be allowed in game, and you'll receive a commission on every copy sold from your game page. (You can only add gear that's for sale.)","Heading.CatalogCategory":"Category","Heading.CatalogPage":"Catalog","Label.AllFeaturedItems":"View All Featured Items","Label.AllGenres":"All Genres","Label.Amazon":"Amazon","Label.BreadCrumb.Free":"Free","Label.BreadCrumb.GenreOrText":"{genreName1} or {genreName2}","Label.BreadCrumb.GenreSelectedText":"Genre: {genreCount} selected","Label.BreadCrumb.Group":"Group:","Label.BreadCrumb.PriceAbove":"{price} and above","Label.BreadCrumb.PriceBelow":"{price} and below","Label.BreadCrumb.ResultsCount":"{startNumber} - {endNumber} of {resultsCount} Results","Label.Bundle":"Bundle","Label.Bundles":"Bundles","Label.Card.CreatorBy":"By","Label.Card.PriceWas":"Was","Label.Card.Remaining":"Remaining:","Label.CategoryAttributes":"Attributes","Label.CategoryType":"Type","Label.Dialog.AddGearTitle":"Add Gear to Your Game","Label.FeaturedBundles":"Featured Bundles","Label.FeaturedItemsOnRoblox":"Featured Items on {spanStart}{roblox}{spanEnd}","Label.Filter.ByTime":"By Time","Label.Filter.Category":"Category","Label.Filter.Creator":"Creator","Label.Filter.Filter":"Filter","Label.Filter.Filters":"Filters","Label.Filter.Genre":"Genre","Label.Filter.Hide":"Hide","Label.Filter.Price":"Price","Label.Filter.PriceMax":"Max","Label.Filter.PriceMin":"Min","Label.Filter.PriceTo":"To","Label.Filter.Show":"Show","Label.Filter.Sorting":"Sorting","Label.Filter.UnavailableItems":"Unavailable Items","Label.GoogleOnly":"Google Only","Label.Ios":"IOS","Label.Mobile":"Mobile","Label.New":"New","Label.Sale":"Sale","Label.SearchField":"Search","Label.Username":"Username","Label.Xbox":"Xbox",LabelAccessories:"Accessories",LabelAccessoryAll:"All Accessories",LabelAccessoryBack:"Back",LabelAccessoryFace:"Face",LabelAccessoryFront:"Front",LabelAccessoryHair:"Hair",LabelAccessoryHats:"Hats",LabelAccessoryNeck:"Neck",LabelAccessoryShoulder:"Shoulder",LabelAccessoryWaist:"Waist",LabelAll:"All",LabelAllBodyParts:"All Body Parts",LabelAllCategories:"All Categories",LabelAllClothing:"All Clothing",LabelAllCollectibles:"All Collectibles",LabelAllCreators:"All Creators",LabelAllCurrency:"All Currency",LabelAllFeatured:"All Featured Items",LabelAllTime:"All Time",LabelAnimations:"Animations",LabelAnyPrice:"Any Price",LabelAvatarAnimations:"Avatar Animations",LabelBestselling:"Bestselling",LabelBodyParts:"Body Parts",LabelClothing:"Clothing",LabelCollectibleAccessories:"Collectible Accessories",LabelCollectibleFaces:"Collectible Faces",LabelCollectibleGear:"Collectible Gear",LabelCollectibles:"Collectibles",LabelFaces:"Faces",LabelFeatured:"Featured",LabelFeaturedAccesories:"Featured Accessories",LabelFeaturedAnimations:"Featured Animations",LabelFeaturedFaces:"Featured Faces",LabelFeaturedGear:"Featured Gear",LabelFeaturedPackages:"Featured Packages",LabelFree:"Free",LabelGear:"Gear",LabelGearAll:"All Gear",LabelGearBuilding:"Building",LabelGearExplosive:"Explosive",LabelGearMelee:"Melee",LabelGearMusical:"Musical",LabelGearNavigation:"Navigation",LabelGearPersonalTransport:"Transport",LabelGearPowerUps:"Power Up",LabelGearRanged:"Ranged",LabelGearSocial:"Social",LabelGenreAdventure:"Adventure",LabelGenreAll:"All Genres",LabelGenreBuilding:"Building",LabelGenreComedy:"Comedy",LabelGenreFighting:"Fighting",LabelGenreFPS:"FPS",LabelGenreHorror:"Horror",LabelGenreMedieval:"Medieval",LabelGenreMilitary:"Military",LabelGenreNaval:"Naval",LabelGenreRPG:"RPG",LabelGenreSciFi:"Sci-Fi",LabelGenreSports:"Sports",LabelGenreTownAndCity:"Town and City",LabelGenreWestern:"Western",LabelHeads:"Heads",LabelMostFavorited:"Most Favorited",LabelNoResellers:"No Resellers",LabelOffSale:"Offsale",LabelPackages:"Packages",LabelPants:"Pants",LabelPastDay:"Past Day",LabelPastWeek:"Past Week",LabelPriceHighFirst:"Price (High to Low)",LabelPriceLowFirst:"Price (Low to High)",LabelRecentlyUpdated:"Recently Updated",LabelRelevance:"Relevance",LabelRoblox:"Roblox",LabelRobux:"Robux",LabelShirts:"Shirts",LabelTShirts:"T-Shirts","Response.Error.Filter":"Errors exist in Filter tab","Response.GenericError":"An error occurred. Please try again later.","Response.NoItemsFound":"No items found.","Response.NoSaleItemsFromSearch":"Your search did not find items for sale. Unavailable items displayed below.","Response.TemporarilyUnavailable":"Catalog temporarily unavailable. Please try again later."},Roblox.Lang.CatalogResources=Roblox.Lang["Feature.Catalog"];

;// utilities/sharedElementManipulator.js
var Roblox=Roblox||{};Roblox.SharedElementManipulator=function(){function t(n,t){t?n.hide():n.show()}function u(n){var r=$(i);t(r,n)}function f(i){var r=$(n);t(r,i)}function e(n){var i=$(r);t(i,n)}function o(t){$(n).addClass(t)}function s(t){$(n).removeClass(t)}var n=".container-footer",i="#chat-container",r=".pagification";return{toggleChat:u,toggleFooter:f,togglePagification:e,addFooterClass:o,removeFooterClass:s}}();

;// ~/viewapp/pages/catalog/catalog.js
"use strict";var catalog=angular.module("catalog",[]).config(["$locationProvider","languageResourceProvider",function(n,t){n.html5Mode({enabled:!0,requireBase:!1}),t.setLanguageKeysFromFile(Roblox.Lang.CatalogResources)}]);

;// ~/viewapp/common/services/abpService.js
robloxApp.factory("abpService",[function(){function t(n){Roblox.AdsHelper&&Roblox.AdsHelper.AdRefresher&&Roblox.AdsHelper.AdRefresher.registerAd(n)}function i(){Roblox.AdsHelper&&Roblox.AdsHelper.AdRefresher&&Roblox.AdsHelper.AdRefresher.refreshAds()}var n={leaderboardAbp:"Leaderboard-Abp",skyscraperAdpRight:"Skyscraper-Abp-Right"};return{registerAd:t,refreshAllAds:i,adIds:n}}]);

;// ~/viewapp/pages/catalog/services/constantsService.js
"use strict";catalog.factory("constantsService",["languageResource",function(n){return{addGearToGameModal:{title:n.get("Label.Dialog.AddGearTitle"),bodyContent:n.get("Description.Dialog.AddGearBody"),declineText:n.get("Action.Dialog.AddGearOk"),cssClass:"add-gear-modal"},genreOrText:function(t,i){return n.get("Label.BreadCrumb.GenreOrText",{genreName1:t,genreName2:i})},genreTextSelected:function(t){return n.get("Label.BreadCrumb.GenreSelectedText",{genreCount:t})}}}]);

;// ~/viewapp/pages/catalog/constants/catalogConstants.js
"use strict";catalog.constant("catalogConstants",{layout:{initialized:!1,customText:"custom",accordionMenuIdPrefix:"#category-",showNoResultsMessage:!1,showErrorMessage:!1,isSearchOptionsOpen:!1,isSearchBarFixed:!1,loading:!1,adsInitialized:!1,showFirstLast:!1},defaults:{subcategory:"0"},allGearSubcategoryId:"0",clearFiltersEvent:"Roblox.Catalog.ClearFilters",unsafeInputError:"unsafeInput"});

;// ~/viewapp/pages/catalog/directives/itemCardDirective.js
"use strict";catalog.directive("itemCard",function(){return{restrict:"A",replace:!1,templateUrl:Roblox.CatalogTemplates.CardItemTemplate,link:function(){}}});

;// ~/viewapp/pages/catalog/directives/accordionMenuDirective.js
"use strict";catalog.directive("accordionMenu",[function(){return{restrict:"A",scope:!0,link:function(){Roblox.BootstrapWidgets.SetupAccordion()}}}]);

;// ~/viewapp/pages/catalog/directives/catalogStatePropertiesDirective.js
"use strict";catalog.directive("catalogStateProperties",function(){return{restrict:"A",link:function(n,t,i){n.catalogData.stateProperties={isSortingSwitcherEnabledForCatalogGear:i.isSortingSwitcherEnabledForCatalogGear==="true"}}}});

;// ~/viewapp/pages/catalog/controllers/catalogController.js
"use strict";catalog.controller("catalogController",["_","$timeout","$location","$http","$log","$scope","$anchorScroll","abpService","catalogService","catalogConstants","constantsService","languageResource",function(n,t,i,r,u,f,e,o,s,h,c,l){f.$on("$locationChangeSuccess",function(){if(f.layout.initialized){if(f.data.preventLocationChange){f.data.preventLocationChange=!1;return}f.data.filtersInitialized&&f.setSelectedFilters(),f.data.query&&!f.data.query.Category&&(f.data.query.Category=f.data.category?f.data.category.Data:null,f.data.query.Subcategory=f.data.subcategory?f.data.subcategory.Data:null),f.expandSelectedCategoryMenu(),f.data.displaySplash||(f.getPagedItems(!0),f.adRefresh())}}),f.setupAds=function(){f.layout.adsInitialized||(f.layout.adsInitialized=!0,o.registerAd(o.adIds.leaderboardAbp))},f.adRefresh=function(){o.refreshAllAds()},f.init=function(t,i){f.layout&&f.layout.initialized||(f.forms={},f.data={},f.library={},f.layout=n.extend({},h.layout),f.data.displaySplash=t==="True",f.data.showCVersion=i==="True",f.data.currentPagedItemsRequestNumber=0,f.getMetaData(),f.getSearchOptions(),f.setupAds())},f.getMetaData=function(){s.getMetaData().then(function(n){n?(f.library.isPhone=Roblox.DeviceMeta&&Roblox.DeviceMeta().isPhone,f.library.isApp=Roblox.DeviceMeta&&Roblox.DeviceMeta().isInApp,f.library.buyRobuxUrl=n.BuyRobuxUrl,f.library.catalogUrl=n.CatalogUrl,f.library.numberOfSplashResultsToDisplay=n.NumberOfSplashResultsToDisplay,f.library.initialized=!0):u.debug(" ------ getMetaData no data received -------")},function(){u.debug(" ------ getMetaData error -------")})},f.getSearchOptions=function(){f.layout.hasSearchOptionsError=!1,s.getSearchOptions().then(function(n){if(n){f.library.robloxUserId=n.RobloxUserId.toString(),f.library.robloxUserName=n.RobloxUserName,f.library.defaultCurrencyId=n.DefaultCurrencyId.toString(),f.library.freeFilterId=n.FreeFilterId.toString(),f.library.customRobuxFilterId=n.CustomRobuxFilterId.toString(),f.library.robuxFilterId=n.RobuxFilterId.toString(),f.library.defaultCategoryId=n.DefaultCategoryId.toString(),f.library.allCategoriesId=n.AllCategoriesId.toString(),f.library.defaultCreatorId=n.DefaultCreatorId.toString(),f.library.gearCategoryId=n.GearCategoryId.toString(),f.library.defaultGearSubcategoryId=n.DefaultGearSubcategoryId.toString(),f.library.defaultSortTypeId=n.DefaultSortTypeId.toString(),f.library.defaultSortAggregationId=n.DefaultSortAggregationId.toString(),f.library.categoriesWithCreatorFilters=n.CategoriesWithCreatorFilters&&n.CategoriesWithCreatorFilters.split(","),f.library.addGearImageUrl=n.AddGearImageUrl,f.setSearchOptionFilters(n),f.setSelectedFilters(),f.displayAddGearModal(),f.setQuery(!0),f.getPagedItems(!0,!0);var i=function(){r.pendingRequests.length>0?t(i):(f.expandSelectedCategoryMenu(),f.layout.resetVerticalMenu=!0)};t(i)}else f.layout.hasSearchOptionsError=!0,u.debug(" ------ getSearchOptions no data received -------")},function(){f.layout.hasSearchOptionsError=!0,u.debug(" ------ getSearchOptions error -------")})},f.getPagedItems=function(n,t){f.data.currentPagedItemsRequestNumber+=1,f.layout.showNoResultsMessage=!1,f.layout.showErrorMessage=!1,n&&!t&&(f.data.results=[]),f.layout.loading=!0,s.getPagedItems(f.data.query,f.data.currentPagedItemsRequestNumber).then(function(t){t.RequestNumber===f.data.currentPagedItemsRequestNumber&&(f.layout.loading=!1,f.setDataFromPagedSearch(t,n),f.setMoreResultsExist())},function(t){u.debug(" ------ getCatalogResults error -------"),f.layout.loading=!1,n&&(f.data.results=[]),t===h.unsafeInputError?(f.data.keyword=null,f.data.keywordBreadcrumb=null,f.data.creatorName=null,f.data.creatorBreadcrumb=null,f.layout.showNoResultsMessage=!0):n&&(f.layout.showErrorMessage=!0)}).finally(function(){f.layout.initialized||(f.layout.initialized=!0)})},f.displayAddGearModal=function(){var n=i.search();n&&n.showInstructions&&Roblox.Dialog.open({titleText:c.addGearToGameModal.title,bodyContent:c.addGearToGameModal.bodyContent,allowHtmlContentInBody:!0,imageUrl:f.library.addGearImageUrl,declineText:c.addGearToGameModal.declineText,showAccept:!1,xToCancel:!0,cssClass:c.addGearToGameModal.cssClass})},f.setSearchOptionFilters=function(n){var t=n.PriceFilters;f.data.categories=n.Categories,f.data.currencyTypes=t,f.setCreatorFilters(n.CreatorFilters),f.data.genres=n.Genres,f.data.sortMenus=n.SortMenus,f.data.filtersInitialized=!0,f.catalogData.stateProperties.isSortingSwitcherEnabledForCatalogGear&&$.each(f.data.categories,function(n,t){t.Category.Data===f.library.gearCategoryId&&t.Subcategories.sort(f.gearSubcategoryCompare)}),t&&t.length>0&&(f.library.defaultCurrencyType=t[0])},f.gearSubcategoryCompare=function(n,t){return n.Data===h.allGearSubcategoryId?-1:t.Data===h.allGearSubcategoryId?1:l.intl.langSensitiveCompare(n.Description,t.Description)},f.setSelectedFilters=function(){var n=i.search();f.data.query=n,f.data.pageNumber=parseInt(n.PageNumber)||1,f.data.keyword=n.Keyword,f.data.keywordBreadcrumb=n.Keyword,f.setSelectedCategory(n.Category,n.Subcategory,n.Gears,n.CatalogContext),f.setCreatorValue(n.CreatorID,n.CreatorName),f.setCurrencyValue(n.CurrencyType,n.pxMin,n.pxMax),f.data.includeNotForSale=n.IncludeNotForSale||!1,f.setGenres(n.Genres),f.setSortType(n.SortType),f.setSortAggregation(n.SortAggregation)},f.setSearchOptionsOpenValue=function(n){f.layout.isSearchOptionsOpen=n,f.layout.hideMainView=n,Roblox.SharedElementManipulator.toggleChat(n),Roblox.SharedElementManipulator.toggleFooter(n),Roblox.SharedElementManipulator.togglePagification(n),n||e()},f.toggleSearchOptions=function(n){f.setSearchOptionsOpenValue(n),n||(f.setSelectedFilters(),f.closeWarning())},f.setShowPagination=function(){f.library&&f.library.isPhone&&(f.data.showPagination=!1),f.data.updatePagination=!f.data.updatePagination,f.data.showPagination=!f.data.displaySplash&&f.data.totalResults>f.data.resultsPerPage},f.onKeywordKeypress=function(n,t){n.which===13&&(n.target.blur(),f.searchKeyword(t))},f.searchKeyword=function(n){f.applySearch(n)},f.applyMobileSearch=function(){if(f.forms.searchOptionsForm&&!f.forms.searchOptionsForm.$valid){f.layout.showError=!0;return}f.setSearchOptionsOpenValue(!1),f.closeWarning(),f.data.displaySplash=!1,f.applySearch()},f.closeWarning=function(){f.layout.showError=!1},f.pageChanged=function(n){f.data.direction=n>f.data.pageNumber?2:1,f.data.query.PageNumber=n,f.data.pageNumber=n,f.layout.loading=!1,f.applySearch(!0,!0)},f.getNextPage=function(){f.layout.isSearchOptionsOpen||f.layout.loading||!f.data.moreResultsExist||(f.data.query.PageNumber=parseInt(f.data.query.PageNumber)||1,f.data.query.PageNumber++,f.data.pageNumber=parseInt(f.data.query.PageNumber),f.data.query.PageHash=f.data.pageHash,f.data.displaySplash&&(f.data.query.Category=f.data.category.Data?f.data.category.Data:null,f.data.query.Subcategory=f.data.subcategory?f.data.subcategory.Data:null,f.data.displaySplash=!1),f.getPagedItems())},f.setQuery=function(n){var t={};n||(f.data.pageNumber=1),f.data.pageNumber!=null&&f.data.pageNumber>1&&(t.PageNumber=f.data.pageNumber),f.setKeywordParam(t),f.setCategoryParams(t),f.setGenreParams(t),f.setCreatorParam(t),f.setPriceParams(t),f.data.sortType!=null&&f.data.sortType.Data!==f.library.defaultSortTypeId&&(t.SortType=f.data.sortType.Data),f.data.sortType!=null&&f.data.sortType.HasSubMenu&&f.data.sortAggregation!=null&&f.data.sortAggregation!==f.library.defaultSortAggregationId&&(t.SortAggregation=f.data.sortAggregation.Data),f.data.includeNotForSale&&(t.IncludeNotForSale=f.data.includeNotForSale),t.Direction=f.data.direction===undefined?2:f.data.direction,t.PageHash=f.data.pageHash,f.data.query=t,f.data.preventLocationChange=!0,i.search(t)},f.setKeywordParam=function(n){f.data.keywordBreadcrumb=null,f.data.keyword!=null&&f.data.keyword!==""&&(n.Keyword=f.data.keyword,f.data.keywordBreadcrumb=f.data.keyword)},f.setCategoryParams=function(n){f.data.category&&(!f.data.displaySplash||f.data.pageNumber>1)&&(n.Category=f.data.category.Data,f.data.subcategory!=null&&(f.data.category.Data===f.library.gearCategoryId?f.data.subcategory.Data!==h.defaults.subcategory&&(n.Gears=f.data.subcategory.Data):n.Subcategory=f.data.subcategory.Data))},f.setGenreParams=function(n){var i=[],t,r;if(f.data.genres)for(t=0;t<f.data.genres.length;t++)r=f.data.genres[t],r.IsSelected&&i.push(parseInt(r.Data));i.length>0&&(n.Genres=i)},f.setCreatorParam=function(t){f.data.creatorBreadcrumb=null,f.data.displayCreators=f.data.category&&n.contains(f.library.categoriesWithCreatorFilters,f.data.category.Data),f.data.displayCreators&&f.data.creator&&f.data.creator.Data!==f.library.defaultCreatorId&&(f.data.creator.Data===f.library.robloxUserId?(t.CreatorID=f.data.creator.Data,f.data.creatorBreadcrumb=f.data.creator.Description):f.data.creatorName!=null?(t.CreatorName=f.data.creatorName,f.data.creatorBreadcrumb=f.data.creatorName):f.data.creator.userId&&(t.CreatorID=f.data.creator.userId))},f.setPriceParams=function(n){if(f.data.showFreeBreadcrumb=f.data.currencyType&&f.data.currencyType.Data===f.library.freeFilterId,f.data.minPriceBreadcrumb=null,f.data.maxPriceBreadcrumb=null,f.data.currencyType!=null&&f.data.currencyType.Data!==f.library.defaultCurrencyId&&(n.CurrencyType=f.data.currencyType.Data,f.data.currencyType.Data===f.library.customRobuxFilterId)){f.data.minPrice=f.data.minPrice&&f.data.minPrice.toString().length>9?null:f.data.minPrice,f.data.maxPrice=f.data.maxPrice&&f.data.maxPrice.toString().length>9?null:f.data.maxPrice;var i=f.data.minPrice,t=f.data.maxPrice;t&&i>t&&(f.data.minPrice=t,f.data.maxPrice=i),f.data.minPriceBreadcrumb=f.data.minPrice||0,f.data.maxPriceBreadcrumb=f.data.maxPrice,f.data.minPrice!=null&&f.data.minPrice!==0&&(n.pxMin=f.data.minPrice),f.data.maxPrice!=null&&f.data.maxPrice!==0&&(n.pxMax=f.data.maxPrice)}},f.setDataFromPagedSearch=function(n,t){var i,u,s,e,o,r;if(t&&(f.data.results=[]),i=n&&n.Items,u=i?i.length:0,f.data.isAlternateResult=n?n.IsAlternateResult&&u>0:!1,f.data.keyword=n?n.Keyword:null,f.data.keywordBreadcrumb=f.data.keyword,f.data.isCreatorAGroup=n&&n.IsCreatorAGroup,f.data.pageNumber=n.PageNumber,f.data.pageHash=n.PageHash,n&&!n.IsValidCreatorName&&f.setCreatorValue(),n&&n.CreatorName&&(f.data.creatorBreadcrumb=n.CreatorName,n.CreatorName!==f.library.robloxUserName&&(f.data.creatorName=n.CreatorName)),s=f.data.displaySplash?f.library.numberOfSplashResultsToDisplay:u,i)for(e=0;e<s;e++)i[e]&&f.data.results.push(i[e]);t&&(o=n&&n.TotalResults||0,r=n&&n.ResultsPerPage||0,f.data.resultsPerPage=r,f.data.totalResults=o,f.data.numberOfPages=r>0?Math.ceil(o/r):0,f.data.startIndex=(f.data.pageNumber-1)*r+1,f.data.endIndex=(f.data.pageNumber-1)*r+u,u===0&&(f.layout.showNoResultsMessage=!0),f.setShowPagination())},f.setMoreResultsExist=function(){f.data.moreResultsExist=f.data.pageNumber*f.data.resultsPerPage<f.data.totalResults},f.getSelectedValue=function(t){return t?n.find(t,function(n){return n.IsSelected}):null},f.setSelectedCategory=function(t,i,r,u){var e,o;return f.data.categories?(t||(t=u?f.library.allCategoriesId:f.library.defaultCategoryId),e=n.find(f.data.categories,function(n){return n.Category.Data===t}),f.data.category=e.Category,!e||!e.Subcategories)?(f.data.subcategory=null,!1):(t===f.library.gearCategoryId?(o=r?r[0]:null,o||(o=e.Subcategories[0].Data),f.data.subcategory=n.find(e.Subcategories,function(n){return n.Data===o})):f.data.subcategory=i?n.find(e.Subcategories,function(n){return n.Data===i}):e.Subcategories[0],!1):!1},f.setCreatorFilters=function(n){var t,i;return n?(t=2,n.length===t?n.push({Data:f.layout.customText,Description:null,IsSelected:!1,userId:null}):n.length>t&&n[t]&&(i=n[t],i.Data=f.layout.customText,f.data.creatorName=i.Description),f.data.creators=n,!0):(f.data.creators=null,f.data.displayCreators=!1,!1)},f.setGenres=function(t){var r,u,i,e;if(f.data.genres){if(r=[],t)if(Array.isArray(t))for(u=0;u<t.length;u++)r.push(t[u].toString());else r.push(t.toString());for(i=0;i<f.data.genres.length;i++)e=f.data.genres[i],f.data.genres[i].IsSelected=n.indexOf(r,e.Data)>=0}},f.setCreatorValue=function(t,i){var r=f.data.creators,u;i?(f.data.creator=n.find(r,function(n){return n.Data===f.layout.customText}),f.data.creatorName=i,f.data.creatorBreadcrumb=i):(t||(t=f.library.defaultCreatorId),u=parseInt(t),u>parseInt(f.library.robloxUserId)?(f.data.creator=n.find(r,function(n){return n.Data===f.layout.customText}),f.data.creator.userId=u):f.data.creator=n.find(r,function(n){return n.Data===t}),f.data.creatorBreadcrumb=f.data.creator&&f.data.creator.Data!==f.library.defaultCreatorId?f.data.creator.Description:null,f.data.creatorName=null)},f.setCurrencyValue=function(t,i,r){var u=f.data.currencyTypes;return u?(f.data.currencyType=t==null?f.library.defaultCurrencyType:n.find(u,function(n){return n.Data===t}),f.data.showFreeBreadcrumb=f.data.currencyType&&f.data.currencyType.Data===f.library.freeFilterId,f.data.minPrice=null,f.data.maxPrice=null,f.data.currencyType.Data===f.library.customRobuxFilterId&&(i=i?parseInt(i):null,r=r?parseInt(r):null,f.data.minPrice=i!==0?i:null,f.data.maxPrice=r!==0?r:null,f.data.minPriceBreadcrumb=i||0,f.data.maxPriceBreadcrumb=r),!1):(f.data.currencyType=null,!1)},f.setSortType=function(t){var i=f.data.sortMenus;return!i||!i[0]?(f.data.sortType=null,!1):(i[0].Sorts&&(f.data.defaultSortValue=i[0].Sorts[0],f.data.sortType=t==null?f.data.defaultSortValue:n.find(i[0].Sorts,function(n){return n.Data===t})),!1)},f.setSortAggregation=function(t){var i=f.data.sortMenus;return!i||!i[1]?(f.data.sortAggregation=null,!1):(i[1].Sorts&&(f.data.defaultSortAggregationValue=i[1].Sorts[0],f.data.sortAggregation=t==null?f.data.defaultSortAggregationValue:n.find(i[1].Sorts,function(n){return n.Data===t})),!1)},f.getCategoryOption=function(t){return t?n.find(f.data.categories,function(n){return n.Category.Data===t.Data}):null},f.getCategoryDropdownValue=function(){return f.data.category?f.data.category.Data===f.library.gearCategoryId&&f.data.subcategory&&f.data.subcategory.Data!==f.library.defaultGearSubcategoryId?f.data.subcategory.Description:f.data.category.Description:""},f.updateCategory=function(n,t,i,r,u){if(i&&(f.data.keyword=null),u&&n.stopPropagation(),f.data.category=r,f.data.subcategory=u,!u){var e=f.getCategoryOption(r);e&&e.Subcategories&&(f.data.subcategory=e.Subcategories[0])}f.data.displaySplash=!1,t?f.$broadcast(h.clearFiltersEvent,{keepKeyword:!i}):f.applySearch(!0)},f.updateSort=function(n){f.data.sortType=n,f.applySearch(!0)},f.updateSortAggregation=function(n){f.data.sortAggregation=n,f.applySearch(!0)},f.filterChanged=function(){if(!f.layout.isSearchOptionsOpen){if(f.data.customCreatorSelected||f.data.creatorName||!f.data.creator||f.data.creator.Data!==f.layout.customText)f.data.isCreatorAGroup=!1,f.data.customCreatorSelected=!1;else{f.data.customCreatorSelected=!0;return}if(f.data.minPriceBreadcrumb==null&&f.data.currencyType&&f.data.currencyType.Data===f.library.customRobuxFilterId)if(f.data.customPriceSelected)f.data.currencyType=f.data.defaultCurrencyValue,f.data.customPriceSelected=!1;else{f.data.customPriceSelected=!0;return}else f.data.customPriceSelected=!1;f.applySearch(!0)}},f.applySearch=function(n,t){f.data.displaySplash&&(f.data.displaySplash=!1),f.setQuery(t),f.getPagedItems(!0,n),f.adRefresh()},f.mobileCategoryClick=function(n,t){n&&(t||!n.Subcategories)&&(n.Subcategories||(f.data.subcategory=null),f.data.category=n.Category)},f.creatorClick=function(n,t){n.preventDefault(),window.location=t},f.clearGenreFilters=function(){n.each(f.data.genres,function(n){n.IsSelected=!1}),f.applySearch(!0)},f.getAllFeaturedItems=function(){var n={Category:f.library.defaultCategoryId};f.data.displaySplash=!1,f.data.query=n,i.search(n),f.getPagedItems(!0,!1)},f.showViewAllFeaturedItemsButton=function(){return f.data.displaySplash&&f.library.initialized&&!f.library.isPhone},f.showUnavailableFilter=function(){return f.library&&!f.library.isPhone},f.showCurrencyType=function(n){return!f.data.category||!n?!1:!(f.data.category.Data===f.library.defaultCategoryId&&n.Data===f.library.freeFilterId)},f.categoryClick=function(n,t){if(!t||t.Category.Data===f.data.category.Data){n.stopPropagation();return}t.Subcategories||(f.data.displaySplash=!1,f.data.category=t.Category,f.data.subcategory=null,f.$broadcast(h.clearFiltersEvent))},f.canToggleSubmenu=function(n){return n&&n.Subcategories&&(!f.data.category||f.data.category.Data!==n.Category.Data)},f.expandSelectedCategoryMenu=function(){var n,t;f.data.showCVersion&&(n=f.data.category,n)&&(t=n.Data,Roblox.BootstrapWidgets.ShowAccordionMenu(f.layout.accordionMenuIdPrefix+t))};var a=f.$watch("data.currencyType",function(n){n&&n.ExcludePriceSorts&&f.data.sortType&&f.data.sortType.IsPriceRelated&&(f.data.sortType=f.data.defaultSortValue)}),v=f.$watch("data.category",function(t){t&&(f.data.displayCreators=n.contains(f.library.categoriesWithCreatorFilters,t.Data),t.Data===f.library.defaultCategoryId&&f.data.currencyType&&f.data.currencyType.Data===f.library.freeFilterId&&(f.data.currencyType=f.library.defaultCurrencyType,f.data.showFreeBreadcrumb=!1,f.$apply()))});f.catalogData=f.catalogData?f.catalogData:{stateProperties:{}},f.$on("$destroy",function(){a&&a(),v&&v()})}]);

;// ~/viewapp/pages/catalog/controllers/breadcrumbsController.js
"use strict";catalog.controller("breadcrumbsController",["_","$log","$scope","catalogConstants","constantsService",function(n,t,i,r,u){i.showGenreBreadcrumb=function(){var n=i.getGenreBreadcrumb();return n&&n.length>0},i.getGenreBreadcrumb=function(){var f=i.data.genres,t,r;return f?(t=n.filter(f,function(n){return n.IsSelected}),r=t.length,r===1)?t[0].Description:r===2?u.genreOrText(t[0].Description,t[1].Description):r>2?u.genreTextSelected(r):null:null},i.showCreatorBreadcrumb=function(){return i.data.creatorBreadcrumb&&i.data.creatorBreadcrumb.length>0},i.showPriceBreadcrumb=function(){return i.showFreeBreadcrumb()||i.showCustomPriceBreadcrumb()},i.showFreeBreadcrumb=function(){return i.data.showFreeBreadcrumb},i.showCustomPriceBreadcrumb=function(){if(!i.data.currencyType||i.data.currencyType.Data!==i.library.customRobuxFilterId)return!1;if(!i.data.minPriceBreadcrumb&&!i.data.maxPriceBreadcrumb)return i.data.showFreeBreadcrumb=!0,!1;var n=i.data.minPriceBreadcrumb;return typeof n=="number"&&n%1==0},i.isNonDefaultSubcategorySelected=function(){var n=i.getCategoryOption(i.data.category),t;return!n||!n.Subcategories||!i.data.subcategory?!1:(t=n.Subcategories[0],t.Data!==i.data.subcategory.Data)},i.clearSubcategory=function(){var n=i.getCategoryOption(i.data.category),t;n&&n.Subcategories?(t=n.Subcategories[0],i.data.subcategory=t):i.data.subcategory=null,i.clearGenres()},i.clearGenres=function(n,t){var u=i.data.genres,r;if(u)for(r=0;r<u.length;r++)u[r].IsSelected=!1;if(n){i.clearKeyword();return}i.clearCreator(!1,t)},i.clearCreator=function(t,r){if(i.data.creator=n.find(i.data.creators,function(n){return n.Data===i.library.defaultCreatorId}),t){i.clearKeyword();return}i.clearPrice(r)},i.clearPrice=function(n){i.data.currencyType=i.data.currencyTypes?i.data.currencyTypes[0]:null,n?i.applySearch(!0):i.clearKeyword()},i.clearKeyword=function(){i.data.keyword=null,i.applySearch(!0)};var f=i.$on(r.clearFiltersEvent,function(n,t){var r=!1;t&&t.keepKeyword&&(r=!0),i.clearGenres(!1,r)});i.$on("$destroy",function(){f&&f()})}]);

;// ~/viewapp/pages/catalog/services/catalogService.js
"use strict";catalog.factory("catalogService",["$log","$q","httpService","eventStreamService","catalogConstants",function(n,t,i,r,u){Roblox.CatalogTemplates={CardItemTemplate:"catalog-item-card"};var e="/catalog/meta-data",o="/catalog/search-options",s="/catalog/items",f={metaDataUrl:Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl(e):e,getSearchOptionsUrl:Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl(o):o,getItemsUrl:Roblox&&Roblox.Endpoints?Roblox.Endpoints.getAbsoluteUrl(s):s,unsafeInputUrl:"/Error/UnsafeInput"};return{getMetaData:function(){var n={url:f.metaDataUrl};return i.httpGet(n)},getSearchOptions:function(){var n={url:f.getSearchOptionsUrl};return i.httpGet(n)},getPagedItems:function(n,e){var h={url:f.getItemsUrl},l=h.url+"?"+n,s,o,c;return r.sendEventWithTarget(r.eventNames.global.ajaxPageLoad,"catalog",{Url:l}),s=i.httpGet(h,n).then(function(n){return typeof n=="string"&&n.indexOf(f.unsafeInputUrl)?t.reject(u.unsafeInputError):n}),e?(o=t.defer(),c={RequestNumber:e},s.then(function(n){angular.extend(n,c),o.resolve(n)},function(n){o.reject(n)}),o.promise):s}}}]);

;// extensions/Thumbnails.js
$(function(){function o(n,t){var r=t.el.is("img")?t.el:t.el.find("img"),i=r.length===1?r:t.el.find("img.original-image");!i.attr("src")&&i.hasClass("lazy")?i.attr("data-original",n.Url):i.attr("src",n.Url),t.el.removeAttr("data-retry-url"),t.el.trigger("thumbnailLoaded")}function s(n){var i=+new Date-n.start;t(["ThumbnailGenTime","2D","Success",i]),t(["ThumbnailGenRetries","2D","Success",n.retryCount])}function h(n){var i=+new Date-n.start;t(["ThumbnailGenRetries","2D","Gave Up",n.retryCount]),t(["ThumbnailGenTime","2D","Gave Up",i])}function c(n,t){n.Final?(t.realRegeneration&&s(t),o(n,t)):(t.realRegeneration=!0,t.retryCount++,t.retryCount<u?setTimeout(function(){t.retryFunction(t)},r):h(t))}function i(n){var t=n.el.data("retry-url");t&&$.ajax({url:t,dataType:"json",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){c(t,n)}})}var n=$("#image-retry-data"),r=n?n.data("image-retry-timer"):1500,u=n?n.data("image-retry-max-times"):10,f=n?n.data("ga-logging-percent"):0,e=window.GoogleAnalyticsEvents&&GoogleAnalyticsEvents.FireEvent||function(){},t=function(n){Math.random()<=f/100&&e(n)};$.fn.loadRobloxThumbnails=function(){return this.each(function(){var n={retryCount:0,realRegeneration:!1,start:+new Date,el:$(this),retryFunction:i};setTimeout(function(){i(n)},0)})}});

;// pageStyleNotifications.js
$(function(){$(".pagification .pagification-showall, .pagification .pagification-collapse").click(function(){$(this).parents(".pagification-body").toggleClass("collapsed")})});

;// ~/viewapp/common/directives/verticalMenuDirective.js
"use strict";robloxApp.directive("verticalMenu",[function(){function n(){Roblox.BootstrapWidgets.SetupVerticalMenu()}return{restrict:"A",link:function(t,i,r){var u=t.$watch(r.resetVerticalMenu,function(){n()});t.$on("$destroy",function(){u&&u()})}}}]);

;// ~/viewapp/common/directives/paginationDirective.js
"use strict";robloxApp.directive("pagination",["$log","$parse","$document","_",function(n,t,i,r){function f(i,r,u){var f=t(u.currentPage)(i),o=t(u.numPages)(i),s=u.showFirstLast?t(u.showFirstLast)(i):!0,h=t(u.itemsPerPage)(i),c=u.scrollToTop?t(u.scrollToTop):!1,l=t(u.pageChanged)(i);n.debug("page directive data :",f,o,h),i.pagination.curPage=f,i.pagination.totalPages=o,i.pagination.showFirstLast=s,i.pagination.pageUpdated=function(n){if(!i.pagination.isLoading){var t=i.pagination.curPage,r=i.pagination.totalPages;n==="next"?t=Math.min(t+1,r):n==="prev"?t=Math.max(t-1,1):n==="first"?t=1:n==="last"&&(t=r),i.pagination.curPage!==t&&(i.pagination.curPage=t,l(t),e(c))}}}function e(n){n&&u.scrollTop(0)}var u=i.find("body");return{restrict:"AC",templateUrl:"rbx-pagination",link:function(i,u,e){var o=i.$watch(function(){var n=t(e.modelChanged)(i);return r.isFunction(n)?n():n},function(t,r){n.debug("watch triggered"),t!==r&&(i.pagination={},f(i,u,e))},!0),s=i.$watch(e.isLoading,function(n,t){n!==t&&i.pagination&&(i.pagination.isLoading=n)},!0);i.$on("$destroy",function(){o&&o(),s&&s()})}}}]);

;// ~/Generated/js/Roblox_TranslationResources_Feature_ShopDialogResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Feature.ShopDialog"]={"Action.Cancel":"Cancel","Action.ContinueToShop":"Continue to Shop","Description.AgeWarning":"Please note that you need to be over 18 to purchase products online. The Amazon store is not part of Roblox.com and is governed by a separate privacy policy.","Description.AmazonRedirect":"Your are about to visit our amazon store. You will be redirected to Roblox merchandise store on {shopLink}.","Heading.LeavingRoblox":"You are leaving Roblox"},Roblox.Lang.ShopDialogResources=Roblox.Lang["Feature.ShopDialog"];

;// utilities/popover.js
var Roblox=Roblox||{};Roblox.Popover=function(){"use strict";function u(n,i){var u=$(n),f=$(i),e=$(t),h=e.outerWidth(),c=u.find(r).outerWidth(),l=e.offset().left,o=0,s;(u.hasClass("bottom")||u.hasClass("top"))&&(s=$("body").outerWidth()-parseInt(f.width()+f.offset().left),o=$("body").outerWidth()-l-s-h/2-c/2,u.find(r).css("right",o))}function f(t){return t.data("hiddenClassName")&&(n=t.data("hiddenClassName")),n}function s(){$(t).on("click",function(t){var s=$(this).data("bind"),h=s?"#"+s:i,r=$(h),c=$(this).data("container"),l=c?"#"+c:o,e;n=f(r),r.hasClass("manual")||r.toggleClass(n),e=!r.hasClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isOpen:e,eventType:t.type}),e&&u(h,l)})}function h(){$("body").on("click",function(r){$(t).each(function(){var u=$(this).data("bind"),t=u?$("#"+u):$(i),o="roblox-popover-open-always",e="roblox-popover-close";if(n=f(t),$(t).hasClass(o)&&!$(r.target).hasClass(e))return!1;!$(r.target).hasClass(e)&&($(this).is(r.target)||$(this).has(r.target).length!==0||t.has(r.target).length!==0||t.hasClass(n)||r.type!=="click")||(t.addClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isHidden:!0,eventType:r.type}))})})}function e(){s(),h()}var t=".roblox-popover",i=".roblox-popover-content",o=".roblox-popover-container",r=".arrow",n="hidden";return $(function(){e()}),{init:e,setUpTrianglePosition:u}}();

;// captcha/constants/captchaConstants.js
"use strict";var Roblox=Roblox||{};Roblox.CaptchaConstants=Roblox.CaptchaConstants||{endpoints:{sendMessage:"",addFriend:"",follow:"",signup:"",joinGroup:"",login:"",postComment:"",clothingUpload:"",favorite:"",appSignup:"",appLogin:""},serviceData:{sitekey:"",trulyInvisibleSitekey:"",successSuffix:"Captcha_Success",failSuffix:"Captcha_Failed",displayedSuffix:"Captcha_Displayed",captchaSolvedPrefix:"Captcha_User_Solved_InSeconds_",captchaSolveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],captchaSolveTimeLarge:"Greater_Than_50",badgePosition:"bottomright",logConstants:{successSuffix:"_Success",failSuffix:"_Failed",displayedSuffix:"_Displayed",triggeredSuffix:"_Triggered",suppressedSuffix:"_Suppressed",providerErrorSuffix:"_FailedToLoad",completedTimeSequenceSuffix:"_SolveTime",solvedPrefix:"_User_Solved_InSeconds_",solveTimeIntervals:[{seconds:1,suffix:"Less_Than_1"},{seconds:3,suffix:"1_To_3"},{seconds:10,suffix:"4_To_10"},{seconds:20,suffix:"11_To_20"},{seconds:30,suffix:"21_To_30"},{seconds:40,suffix:"31_To_40"},{seconds:50,suffix:"41_To_50"}],solveTimeLarge:"Greater_Than_50",eventStreamCaptchaEventName:"captcha",eventStreamCaptchaInitiatedEventName:"captchaInitiated",captchaInitiatedChallengeTypes:{visible:"visible",hidden:"hidden",error:"error"}}},types:{signup:"signup",sendMessage:"sendMessage",addFriend:"addFriend",follow:"follow",joinGroup:"joinGroup",login:"login",postComment:"postComment",clothingUpload:"clothingUpload",favorite:"favorite",appSignup:"appSignup",appLogin:"appLogin"},ids:{defaultCaptcha:"captcha-container",signup:"signup-captcha",login:"login-captcha",friends:"friends-captcha",groups:"groups-captcha",profile:"profile-captcha",playerSearch:"player-search-captcha",appCaptcha:"app-captcha"},messageElementIds:{defaultError:"captcha-error"},hybridEvents:{shown:"CaptchaShown",success:"CaptchaSuccess"},messages:{error:"We currently cannot verify CAPTCHA, please try again later.",funCaptchaError:"We currently cannot verify FunCaptcha, please try again later."}};

;// captcha/captchaLogger.js
"use strict";var Roblox=Roblox||{},EventTracker=window.EventTracker||null;Roblox.CaptchaLogger=function(n){function o(n){EventTracker&&EventTracker.start(n)}function s(n){EventTracker&&EventTracker.endSuccess(n)}function h(n){EventTracker&&EventTracker.endFailure(n)}function i(n){return n.charAt(0).toUpperCase()+n.slice(1)}function c(n,i){for(var o=1e3,f=n+t.solvedPrefix,e=t.solveTimeIntervals,u,r=0;r<e.length;r++)if(u=e[r],i<=u.seconds*o)return f+u.suffix;return f+t.solveTimeLarge}var f=Roblox.CaptchaConstants,e=$.extend({},f.serviceData),t=e.logConstants,u=!1,r;this.provider=n,this.setPerAppTypeLoggingEnabled=function(n){Roblox.DeviceMeta&&Roblox.DeviceMeta().isInApp&&(u=n,r=Roblox.DeviceMeta().appType)},this.fireEvent=function(n){if(EventTracker)if(u&&typeof r!="undefined"){var t=n+"_"+r;EventTracker.fireEvent(t)}else EventTracker.fireEvent(n)},this.logSolveTime=function(n,t){var r=c(this.provider,t);this.fireEvent(i(n+r))},this.logSuccess=function(n){this.fireEvent(i(n+this.provider+t.successSuffix)),s(n+this.provider+t.completedTimeSequenceSuffix)},this.logFail=function(n){this.fireEvent(i(n+this.provider+t.failSuffix)),h(n+this.provider+t.completedTimeSequenceSuffix)},this.logTriggered=function(n){this.fireEvent(i(n+this.provider+t.triggeredSuffix)),o(n+this.provider+t.completedTimeSequenceSuffix)},this.logSuppressed=function(n){this.fireEvent(i(n+this.provider+t.suppressedSuffix))},this.logDisplayed=function(n){this.fireEvent(i(n+this.provider+t.displayedSuffix))},this.logProviderError=function(n){this.fireEvent(i(n+this.provider+t.providerErrorSuffix))},this.logCaptchaShownEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.visible)},this.logCaptchaSuppressedEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.hidden)},this.logCaptchaErrorEventToEventStream=function(n){this.logCaptchaInitiatedEventToEventStream(n,t.captchaInitiatedChallengeTypes.error)},this.logCaptchaInitiatedEventToEventStream=function(n,i){if(Roblox.EventStream){var r=n;Roblox.EventStream.SendEventWithTarget(t.eventStreamCaptchaInitiatedEventName,r,{type:i,provider:this.provider},Roblox.EventStream.TargetTypes.WWW)}},this.logCaptchaEventToEventStream=function(n,i,r,u){if(Roblox.EventStream){i=i||0;var f=r?"true":"false",e=n;Roblox.EventStream.SendEventWithTarget(t.eventStreamCaptchaEventName,e,{solveDuration:i,success:f,provider:this.provider,session:u||""},Roblox.EventStream.TargetTypes.WWW)}}};

;// captcha/captchaService.js
"use strict";var Roblox=Roblox||{},grecaptcha=window.grecaptcha||null,EventTracker=window.EventTracker||null;Roblox.Captcha=function(){function u(n){return n.charAt(0).toUpperCase()+n.slice(1)}function v(n){return n.charAt(0).toLowerCase()+n.slice(1)}function a(){return(new Date).valueOf()}function k(t){for(var e=1e3,u=n.captchaSolvedPrefix,f=n.captchaSolveTimeIntervals,r,i=0;i<f.length;i++)if(r=f[i],t<=r.seconds*e)return u+r.suffix;return u+n.captchaSolveTimeLarge}function d(n){var i=k(n);EventTracker&&EventTracker.fireEvent(u(t+i))}function y(n,t,i){if(Roblox.EventStream){t=t||0;var r=i?"true":"false",u=n;Roblox.EventStream.SendEventWithTarget("captcha",u,{solveDuration:t,success:r,provider:"Google"},Roblox.EventStream.TargetTypes.WWW)}}function p(t,f,o){var h={"g-Recaptcha-Response":f,isInvisible:i.invisible};$.ajax({method:"POST",data:h,success:function(){EventTracker&&EventTracker.fireEvent(u(t+n.successSuffix)),y(t,o,!0),s&&(s(),$("#"+l).empty())},error:function(){EventTracker&&EventTracker.fireEvent(u(t+n.failSuffix)),y(t,o,!1),e&&e(),Roblox.BootstrapWidgets&&Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-warning"),100,2e3,Roblox.CaptchaConstants.messages.error)},url:r[t]})}function w(n){var i={"g-Recaptcha-Response":n,isTrulyInvisible:!0};$.ajax({method:"POST",data:i,complete:function(){$("#"+c).empty()},url:r[t]})}function g(i,r){if(t=t||v(r),c=i,grecaptcha){var u={callback:w,badge:n.badgePosition},f=grecaptcha.render(c,u);grecaptcha.execute(f)}}var r=Roblox.CaptchaConstants.endpoints,l,c,h,i={invisible:!1},n=Roblox.CaptchaConstants.serviceData,o,t,s,e,f,b=function(n){typeof f=="function"&&f();var i=null;o&&(i=a()-o,d(i),o=null),p(t,n,i)};return{ids:Roblox.CaptchaConstants.ids,types:Roblox.CaptchaConstants.types,setEndpoint:function(n,t){r[n]=t},getEndpoint:function(n){return r[n]},setInvisibleMode:function(n){i.invisible=n},getInvisibleMode:function(){return i.invisible},setSiteKey:function(t){n.sitekey=t},verify:p,reset:function(n,r,u,o){t=n,s=r,e=u,f=o,grecaptcha&&(grecaptcha.reset(h),i.invisible&&grecaptcha.execute(h))},render:function(r,c,v,y,p){if(t=c,s=v,e=y,f=p,l=r,grecaptcha){var w={sitekey:n.sitekey,callback:b,badge:n.badgePosition};i.invisible&&(w.size="invisible"),h=grecaptcha.render(r,w),EventTracker&&EventTracker.fireEvent(u(t+n.displayedSuffix)),o=a()}},execute:function(){grecaptcha&&i.invisible&&grecaptcha.execute(h)},setMultipleEndpoints:function(n,t){var i,u;if(n&&t)for(i=0;i<n.length;i++)u=v(n[i]),r[u]=t},trulyInvisibleCallback:w,renderTrulyInvisible:g}}();

;// ~/viewapp/widgets/captcha/captcha.js
"use strict";var captcha=angular.module("captcha",[]);

;// ~/viewapp/widgets/captcha/constants/captchaConstants.js
"use strict";captcha.constant("captchaConstants",{template:"<div id='{{captchaElem.id}}' ng-show='captchaElem.isVisible'></div>",googleTemplate:"google-captcha-template",fcTemplate:"fun-captcha-template",fcModalTemplate:"fun-captcha-modal-template"});

;// ~/viewapp/widgets/captcha/directives/captchaDirective.js
"use strict";captcha.directive("captcha",["$log","$parse","captchaConstants","captchaInterface",function(n,t,i,r){return{restrict:"A",template:i.template,link:function(i,u,f){function h(n,t,f,e){var l=u.find("#"+i.captchaElem.id),s,h;if(i.captchaElem.isVisible=!0,s=function(){c(),angular.isFunction(t)&&t()},h=function(){angular.isFunction(f)&&f()},o){r.reset(n,s,h,e);return}r.render(i.captchaElem.id,n,s,h,e),o=!0,r.execute()}function c(){var n=u.find("#"+i.captchaElem.id);n.empty(),i.captchaElem.isVisible=!1}var o,e,s;i.captchaElem={isVisible:!1},o=!1,e=t(f.captchaModel)(i),i.captchaElem.id=e.id||r.ids.defaultCaptcha,s=i.$watch(function(){return e.isActivated},function(r){if(r){var s=t(f.onCaptchaSuccess)(i)||angular.noop,c=t(f.onCaptchaError)(i)||angular.noop,l=t(f.onCaptchaResponse)(i)||angular.noop,o=t(f.captchaType)(i);if(!o){n.debug("[Captcha Error] captcha type cannot be empty");return}h(o,s,c,l),e.isActivated=!1}},!0),i.$on("$destroy",function(){s&&s()})}}}]);

;// ~/viewapp/widgets/captcha/services/captchaInterface.js
captcha.factory("captchaInterface",["$q",function(){var t=Roblox.Captcha||{};return{types:t.types,ids:t.ids,setEndpoint:t.setEndpoint,setInvisibleMode:t.setInvisibleMode,setSiteKey:t.setSiteKey,reset:t.reset,render:t.render,execute:t.execute}}]);

;// Tracking/FormEvents.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.FormEvents=="undefined"&&(Roblox.FormEvents=function(){function n(n,t,i){Roblox.EventStream&&Roblox.EventStream.SendEvent(n,t,i)}function t(t,i,r,u){var f={msg:u,input:r,field:i,vis:!0};n("formValidation",t,f)}function i(t,i){var r={aType:"focus",field:i};n("formInteraction",t,r)}function r(t,i,r){var u={aType:"offFocus",field:i};r&&(u.input=r),n("formInteraction",t,u)}function u(t,i){var r={aType:"click",field:i};n("formInteraction",t,r)}return{SendValidationFailed:t,SendInteractionFocus:i,SendInteractionOffFocus:r,SendInteractionClick:u}}());

;// ~/viewapp/common/formEvents/formEvents.js
"use strict";var formEvents=angular.module("roblox.formEvents",[]);

;// ~/viewapp/common/formEvents/directives/formInteraction.js
"use strict";formEvents.directive("rbxFormInteraction",function(){return{require:"^form",restrict:"A",link:function(n,t,i,r){var u=i.sendInputValue;t.bind("blur",function(){if(Roblox.FormEvents){var n=angular.element(this),t;u&&(t=n.val()),Roblox.FormEvents.SendInteractionOffFocus(r.context,n.attr("name"),t)}}).bind("focus",function(){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionFocus(r.context,angular.element(this).attr("name"))})}}});

;// ~/viewapp/common/formEvents/directives/formContext.js
"use strict";formEvents.directive("rbxFormContext",function(){return{require:"form",restrict:"A",link:function(n,t,i,r){var u=r.$name;r.context=i.context+u.charAt(0).toUpperCase()+u.substr(1)}}});

;// ~/viewapp/common/constants/urlConstants.js
robloxApp.constant("urlConstants",{urlQueryStringPrefix:"?",urlQueryParameterSeparator:"&",hashSign:"#"});

;// ~/viewapp/common/constants/phoneConstants.js
robloxApp.constant("phoneConstants",{templates:{verifyPhoneModal:"verify-phone-modal"},urls:{phonePrefixes:"/v1/countries/phone-prefix-list",addPhone:"/account/settings/phone",verifyPhone:"/account/settings/phone/verify",resendCode:"/account/settings/phone/resend"},modalTypes:{addPhone:"addPhone",verifyPhone:"verifyPhone"},minimumPhoneLength:4,underscore:"_",phonePrefixCharacter:"+",defaultCountryCode:"US",unitedStatesPrefix:{name:"United States",localizedName:"United States",code:"US",prefix:1}});

;// ~/viewapp/common/services/phoneService.js
robloxApp.factory("phoneService",["$q","httpService","phoneConstants",function(n,t,i){function f(n){var i=n+r,f={url:i};return t.httpGet(f,null).then(function(n){var t;return _.reject(n,function(n){return n.code===u?(t=n,!0):!1}),t&&n.unshift(t),n})}function e(n){var r=i.urls.addPhone,u={url:r},f={countryCode:n.countryCode,prefix:n.prefix,phone:n.phone,password:n.password};return t.httpPost(u,f)}function o(n){var r=i.urls.verifyPhone,u={url:r},f={code:n.code};return t.httpPost(u,f)}function s(){var n=i.urls.resendCode,r={url:n};return t.httpPost(r)}function h(n){return!n||n.length<i.minimumPhoneLength?!1:/\d/.test(n)?/^[\d|\W|_]+$/.test(n):!1}var r=i.urls.phonePrefixes,u=i.defaultCountryCode;return{getPhonePrefixes:f,addPhone:e,verifyPhone:o,resendCode:s,isPhoneNumber:h}}]);

;// ~/viewapp/common/directives/toggleLoadingDirective.js
"use strict";robloxApp.directive("toggleLoading",[function(){return{restrict:"A",link:function(n,t,i){var f=i.isInline,e='<div class="spinner spinner-sm spinner-no-margin'+(f?"":" spinner-block")+'"></div>',r=angular.element(e),u;t.after(r),r.hide(),u=n.$watch(i.isLoading,function(n,i){if(n!==i)if(n){var u=t[0].offsetHeight,f=t[0].offsetWidth;r.css("height",u+"px"),r.css("width",f+"px"),t.hide(),r.show()}else t.show(),r.hide()},!0),n.$on("$destroy",function(){u&&u()})}}}]);

;// ~/viewapp/common/components/systemFeedback/systemFeedbackComponent.js
"use strict";robloxApp.component("systemFeedback",{templateUrl:"system-feedback",bindings:{bannerText:"<",showErrorBanner:"<"},controller:function(){var n=this;n.closeErrorBanner=function(){n.showErrorBanner=!1}}});

;// ~/viewapp/widgets/login/login.js
"use strict";var login=angular.module("login",["captcha","roblox.formEvents","modal"]).config(["languageResourceProvider",function(n){n.setLanguageKeysFromFile(Roblox.Lang.LoginResources)}]);angular.element(function(){angular.bootstrap("#login-container",["robloxApp","login"])});

;// ~/Generated/js/Roblox_TranslationResources_Authentication_LoginResources_en_us_standard.js
var Roblox=Roblox||{};Roblox.Lang=Roblox.Lang||{},Roblox.Lang["Authentication.Login"]={"Action.Cancel":"Cancel","Action.Facebook":"Facebook","Action.ForgotPasswordOrUsernameQuestion":"Forgot password or username?","Action.ForgotPasswordOrUsernameQuestionCapitalized":"Forgot Password or Username?","Action.Login":"Login","Action.LogInCapitalized":"Log In","Action.Ok":"OK","Action.PlayAsGuest":"Play as Guest","Action.Resend":"Resend","Action.ResendEmail":"Resend Email","Action.SendVerificationEmail":"Send Verification Email","Action.SignIn":"Sign In","Action.SignInWithFacebook":"Sign In with Facebook","Action.SignUp":"Sign up","Action.SignUpCapitalized":"Sign Up","Heading.Login":"Login","Heading.LoginRoblox":"Login to Roblox","Heading.SignUpMakeFriends":"Sign Up to Build & Make Friends","Label.AccountNotNeeded":"You don't need an account to play Roblox","Label.EmailNeedsVerification":"Your email needs verification","Label.FacebookCreatePasswordWarning":"If you have been signing in with Facebook, you must set a password.","Label.ForgotUsernamePassword":"Forgot Username/Password?","Label.GreetingForNewAccount":"Nice to meet you, {username}. {linkStartSignup}Let's make an account! {linkEndSignup}","Label.LearnMore":"Learn more","Label.LoggingInSpinnerText":"Logging in…","Label.Login":"Log in","Label.LoginWithYour":"login with your","Label.NoAccount":"Don't have an account?","Label.NonAMemberQuestion":"Not a member?","Label.NotReceived":"Didn't receive it?","Label.Or":"Or","Label.Password":"Password","Label.PasswordWithColumn":"Password:","Label.StartPlaying":"You can start playing right now, in guest mode!","Label.UnverifiedEmailInstructions":"To log in with your email, it must be verified. You can also log in with your username.","Label.Username":"Username","Label.UsernameEmail":"Username/Email","Label.UsernameEmailPhone":"Username/Email/Phone","Label.UsernamePhone":"Username/Phone","Label.UsernameWithColumn":"Username:","Label.VerificationEmailSent":"Verification Email Sent!","Message.UnknownErrorTryAgain":"An unknown error occurred. Please try again.","Message.UsernameAndPasswordRequired":"Username and password required","Response.AccountIssueErrorContactSupport":"Account issue. Please contact Support.","Response.AccountLockedRequestReset":"Account has been locked. Please request a password reset.","Response.AccountNotFound":"Account not found. Please try again.","Response.EmailLinkedToMultipleAccountsLoginWithUsername":"Your email is associated with more than 1 username. Please login with your username.","Response.EmailSent":"Email sent!","Response.IncorrectEmailOrPassword":"Incorrect email or password.","Response.IncorrectPhoneOrPassword":"Incorrect phone or password.","Response.IncorrectUsernamePassword":"Incorrect username or password.","Response.LoginWithUsername":"Something went wrong. Please login with your username.","Response.PasswordNotProvided":"You must enter a password.","Response.TooManyAttemptsPleaseWait":"Too many attempts. Please wait a bit.","Response.UnknownError":"Unknown Error","Response.UnknownLoginError":"Unknown login failure.","Response.UnverifiedEmailLoginWithUsername":"Your email is not verified. Please login with your username.","Response.UnverifiedPhoneLoginWithUsername":"Your phone is not verified. Please login with your username.","Response.UsernameNotProvided":"You must enter a username.","Response.UseSocialSignOn":"Unable to login. Please use Social Network sign on."},Roblox.Lang.LoginResources=Roblox.Lang["Authentication.Login"];

;// ~/viewapp/widgets/login/constants/loginConstants.js
"use strict";login.constant("loginConstants",{urls:{login:"/v1/login",loginV2:"/v2/login",twoStepVerification:"/login/twostepverification",credentialsVerification:"/v2/credentials/verification",credentialsVerificationSend:"/v2/credentials/verification/send"},templates:{verifyEmail:"verify-email"},controllers:{verifyEmail:"verifyEmailController"},errorCodes:{unknownError:0,badCredentials:1,captcha:2,accountNotFound:3,passwordResetRequired:4,noPassword:5,accountIssue:6,tooManyAttempts:7,defaultLoginRequired:9,unverifiedCredentials:10},sendVerificationEmailErrorCodes:{tooManyAttempts:2},statusCodes:{flooded:429},credentialTypes:{username:"Username",email:"Email",phone:"PhoneNumber"},newLoginQueryString:"nl=true",loginSubmitButtonName:"loginSubmit",fbLoginButtonName:"fbLoginSubmit",landingContext:"landing",atSymbol:"@",verifyEmailContextSuffix:"_verifyEmail"});

;// ~/viewapp/widgets/login/services/loginLanguageService.js
"use strict";login.factory("loginLanguageService",["languageResource",function(n){var t=n;return{usernamePlaceholder:t.get("Label.Username"),usernameEmailPlaceholder:t.get("Label.UsernameEmail"),usernamePhonePlaceholder:t.get("Label.UsernamePhone"),usernameEmailPhonePlaceholder:t.get("Label.UsernameEmailPhone"),usernameAndPasswordRequired:t.get("Message.UsernameAndPasswordRequired"),incorrectUsernamePassword:t.get("Response.IncorrectUsernamePassword"),incorrectEmailPassword:t.get("Response.IncorrectEmailOrPassword"),incorrectPhonePassword:t.get("Response.IncorrectPhoneOrPassword"),accountNotFound:t.get("Response.AccountNotFound"),useSocialSignOn:t.get("Response.UseSocialSignOn"),accountIssue:t.get("Response.AccountIssueErrorContactSupport"),tooManyAttempts:t.get("Response.TooManyAttemptsPleaseWait"),unknownError:t.get("Message.UnknownErrorTryAgain"),emailAssociatedWithMultipleAccounts:t.get("Response.EmailLinkedToMultipleAccountsLoginWithUsername"),loginWithUsername:t.get("Response.LoginWithUsername"),unverifiedEmailLoginWithUsername:t.get("Response.UnverifiedEmailLoginWithUsername"),unverifiedPhoneLoginWithUsername:t.get("Response.UnverifiedPhoneLoginWithUsername"),emailNeedsVerification:t.get("Label.EmailNeedsVerification"),unverifiedEmailInstructions:t.get("Label.UnverifiedEmailInstructions"),sendVerificationEmail:t.get("Action.SendVerificationEmail"),verificationEmailSent:t.get("Label.VerificationEmailSent"),didntReceiveIt:t.get("Label.NotReceived"),resendEmail:t.get("Action.ResendEmail"),ok:t.get("Action.Ok")}}]);

;// ~/viewapp/widgets/login/services/loginService.js
"use strict";login.factory("loginService",["httpService","loginConstants",function(n,t){function i(i){var r=Roblox.LoginMeta.apiProxyUrl+t.urls.loginV2,u={url:r};return n.httpPost(u,i,!0)}function r(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.login,u={url:r};return n.httpPost(u,i,!0)}function u(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.credentialsVerification,u={url:r};return n.httpGet(u,i,!0)}function f(i){var r=Roblox.EnvironmentUrls.authApi+t.urls.credentialsVerificationSend,u={url:r};return n.httpPost(u,i,!0)}return{login:i,loginV2:r,canVerifyCredentials:u,verifyCredentials:f}}]);

;// ~/viewapp/widgets/login/controllers/verifyEmailController.js
"use strict";login.controller("verifyEmailController",["$scope","eventStreamService","loginLanguageService","loginService","loginConstants","injectedData",function(n,t,i,r,u,f){n.layout={labels:i},n.init=function(){n.layout.headerText=i.emailNeedsVerification,t.sendModalShownEvent(f.context+u.verifyEmailContextSuffix)},n.sendVerificationEmail=function(){n.layout.error=null,n.layout.isSubmitBusy=!0;var t={credentialType:u.credentialTypes.email,credentialValue:f.email,password:f.password};r.verifyCredentials(t).then(function(){n.layout.headerText=i.verificationEmailSent,n.layout.emailSent=!0,n.sendSendVerificationEmailEvent(!0)},function(t){var r=t&&t.data&&t.data.errors&&t.data.errors.length>0&&t.data.errors[0].code;switch(r){case u.sendVerificationEmailErrorCodes.tooManyAttempts:n.layout.error=i.tooManyAttempts;break;default:n.layout.error=i.unknownError}n.sendSendVerificationEmailEvent(!1)}).finally(function(){n.layout.isSubmitBusy=!1})},n.sendSendVerificationEmailEvent=function(n,i){t.sendEventWithTarget(t.eventNames.account.sendVerificationEmail,f.context+u.verifyEmailContextSuffix,{success:n,msg:i})},n.init()}]);

;// ~/viewapp/widgets/login/controllers/loginFormController.js
"use strict";login.controller("loginFormController",["$window","$uibModal","urlService","phoneService","loginLanguageService","loginService","captchaInterface","loginConstants","urlConstants",function(n,t,i,r,u,f,e,o,s){var h=this;h.data={},h.$onInit=function(){h.usePrimaryButtonClass=h.params.Context&&h.params.Context.toLowerCase().indexOf(o.landingContext)>-1,h.isProcessing=!1,h.params.RedirectToLoginPageOnError?h.credentialValue=null:(h.credentialValue=h.params.Username,h.setEnteredCredentialType(h.params.CType),h.error=h.params.ErrorCode?h.getErrorMessage(parseInt(h.params.ErrorCode,10)):null),h.captchaSetting={id:h.params.CaptchaId||e.ids.login,isActivated:!1,captchaType:e.types.login,successCB:null,errorCB:null}},Roblox.LoginMeta&&angular.extend(h.data,{forgotCredentialsUrl:Roblox.LoginMeta.forgotCredentialsUrl,homeUrl:Roblox.LoginMeta.homeUrl,fbSignInUrl:Roblox.LoginMeta.fbSignInUrl,securityNotificationUrl:Roblox.LoginMeta.securityNotificationUrl,loginPageUrl:Roblox.LoginMeta.loginPageUrl,isLoginWithEmailEnabled:Roblox.LoginMeta.isLoginWithEmailEnabled,isLoginWithPhoneEnabled:Roblox.LoginMeta.isLoginWithPhoneEnabled,isPromptUnverifiedEmailsEnabled:Roblox.LoginMeta.isPromptUnverifiedEmailsEnabled}),h.setEnteredCredentialType=function(n){if(n){h.data.enteredCredentialType=n;return}if(h.isEmail(h.credentialValue)){h.data.enteredCredentialType=o.credentialTypes.email;return}if(r.isPhoneNumber(h.credentialValue)){h.data.enteredCredentialType=o.credentialTypes.phone;return}h.data.enteredCredentialType=o.credentialTypes.username},h.submit=function(n){if(h.clearError(),!h.credentialValue||!h.password){h.params.RedirectToLoginPageOnError||(h.error=u.usernameAndPasswordRequired);return}if(n&&h.sendInteractionClickEvent(o.loginSubmitButtonName),h.isProcessing=!0,h.data.enteredCredentialType=o.credentialTypes.username,h.data.isLoginWithEmailEnabled||h.data.isLoginWithPhoneEnabled){h.submitEmailOrPhoneLogin();return}h.submitUsernameLogin()},h.submitUsernameLogin=function(){var t={username:h.credentialValue,password:h.password};f.login(t).then(function(t){var i=t.data;h.params.SamlRequest?h.handleSamlRequest(i):n.location.href=h.getRedirectUrl(i)},function(n){h.handleLoginError(n.data,n.status)})},h.submitEmailOrPhoneLogin=function(){var t=h.isEmail(h.credentialValue),i=r.isPhoneNumber(h.credentialValue),u;h.data.isLoginWithEmailEnabled&&!h.data.isDefaultLoginRequired&&t&&(h.data.enteredCredentialType=o.credentialTypes.email),h.data.isLoginWithPhoneEnabled&&!h.data.isDefaultLoginRequired&&i&&(h.data.enteredCredentialType=o.credentialTypes.phone),t||i||(h.showErrorBanner=!1),u={cvalue:h.credentialValue,ctype:h.data.enteredCredentialType,password:h.password},f.loginV2(u).then(function(t){var i=t.data;h.params.SamlRequest?h.handleSamlRequest(i):n.location.href=h.getRedirectUrl(i)},function(n){h.handleLoginError(n.data,n.status)})},h.handleLoginError=function(n,t){var i,r;if(t===o.statusCodes.flooded){h.activateCaptcha(),h.isProcessing=!1;return}i=n&&n.errors&&n.errors.length>0&&n.errors[0].code;switch(i){case o.errorCodes.captcha:h.activateCaptcha(),h.isProcessing=!1;return;case o.errorCodes.passwordResetRequired:h.navigateToSecurityNotificationPage();return}h.data.isPromptUnverifiedEmailsEnabled&&i===o.errorCodes.unverifiedCredentials&&h.data.enteredCredentialType===o.credentialTypes.email?(r={credentialType:o.credentialTypes.email,credentialValue:h.credentialValue,password:h.password},f.canVerifyCredentials(r).then(function(n){n&&n.data&&n.data.canSend?(h.promptUserToVerifyEmail(),h.isProcessing=!1):h.setErrorMessage(i)},function(){h.setErrorMessage(i)})):h.setErrorMessage(i)},h.promptUserToVerifyEmail=function(){t.open({backdrop:"static",templateUrl:o.templates.verifyEmail,controller:o.controllers.verifyEmail,resolve:{injectedData:{context:h.params.Context,email:h.credentialValue,password:h.password}}}).result.then(angular.noop,angular.noop)},h.setErrorMessage=function(t){var r=t===o.errorCodes.defaultLoginRequired||t===o.errorCodes.unverifiedCredentials,i;if(h.params.RedirectToLoginPageOnError||h.params.RedirectToLoginPageWhenUsernameIsRequired&&r){i={errorCode:t,ctype:h.data.enteredCredentialType},r||(i.username=h.credentialValue),n.location.href=h.data.loginPageUrl+s.urlQueryStringPrefix+$.param(i);return}h.isProcessing=!1,h.error=h.getErrorMessage(t)},h.getErrorMessage=function(n){var t,i;switch(n){case o.errorCodes.badCredentials:return h.getInvalidCredentialsErrorMessage();case o.errorCodes.accountNotFound:return u.accountNotFound;case o.errorCodes.noPassword:return u.useSocialSignOn;case o.errorCodes.accountIssue:return u.accountIssue;case o.errorCodes.tooManyAttempts:return u.tooManyAttempts;case o.errorCodes.defaultLoginRequired:return t=h.getDefaultLoginRequiredErrorMessage(),h.handleDefaultLoginRequired(t),null;case o.errorCodes.unverifiedCredentials:return i=h.getUnverifiedCredentialsErrorMessage(),h.handleDefaultLoginRequired(i),null;default:return u.unknownError}},h.activateCaptcha=function(){Roblox.Captcha.setEndpoint(Roblox.Captcha.types.login,h.params.CaptchaApiUrl+"?"+$.param({username:h.credentialValue})),h.captchaSetting.successCB=function(){h.submit()},h.captchaSetting.isActivated=!0},h.navigateToSecurityNotificationPage=function(){n.location.href=h.data.securityNotificationUrl},h.handleSamlRequest=function(n){var t,r=h.credentialValue,u,i;n&&n.tl?t=n.tl:n&&n.twoStepVerificationData&&(t=n.twoStepVerificationData.ticket,r=n.user.name),u=t?o.urls.twoStepVerification+"?"+$.param({username:r,tl:t,returnUrl:h.params.ReturnUrl}):h.params.ReturnUrl,i=h.samlRequestForm.$$element,i.attr("action",u),i[0].submit()},h.getInvalidCredentialsErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.incorrectEmailPassword;case o.credentialTypes.phone:return u.incorrectPhonePassword;default:return u.incorrectUsernamePassword}},h.getDefaultLoginRequiredErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.emailAssociatedWithMultipleAccounts;case o.credentialTypes.phone:return u.loginWithUsername;default:return""}},h.getUnverifiedCredentialsErrorMessage=function(){switch(h.data.enteredCredentialType){case o.credentialTypes.email:return u.unverifiedEmailLoginWithUsername;case o.credentialTypes.phone:return u.unverifiedPhoneLoginWithUsername;default:return""}},h.handleDefaultLoginRequired=function(n){(h.data.isDefaultLoginRequired=!0,h.credentialValue=null,h.password=null,n)&&(h.bannerErrorMessage=n,h.showErrorBanner=!0)},h.getRedirectUrl=function(n){var r=h.params.ReturnUrl,t,u;return(n&&n.tl?t={username:h.credentialValue,tl:n.tl}:n&&n.twoStepVerificationData&&(t={username:n.user.name,tl:n.twoStepVerificationData.ticket}),t)?(r?t.returnUrl=r:h.params.RedirectToHomePostLogin||(t.returnUrl=h.getCurrentLocation()),i.getAbsoluteUrl(o.urls.twoStepVerification)+s.urlQueryStringPrefix+$.param(t)):n&&(n.userId||n.user&&n.user.id)?r?(u=h.addNewLoginQueryStringToUrl(r),i.getAbsoluteUrl(u)):h.params.RedirectToHomePostLogin?h.data.homeUrl+s.urlQueryStringPrefix+$.param({nl:!0}):h.getCurrentLocation():i.getAbsoluteUrl("/")},h.getCurrentLocation=function(){var t=n.location.href,i=t?t.indexOf(s.hashSign):-1;return i>-1&&(t=t.slice(0,-1*(t.length-i))),h.addNewLoginQueryStringToUrl(t)},h.addNewLoginQueryStringToUrl=function(n){if(!n)return"/";var t=n;return t+=n.indexOf(s.urlQueryStringPrefix)>-1?s.urlQueryParameterSeparator:s.urlQueryStringPrefix,t+=o.newLoginQueryString},h.loginWithFb=function(){h.sendInteractionClickEvent(o.fbLoginButtonName),n.location.href=h.data.fbSignInUrl},h.sendInteractionClickEvent=function(n){Roblox.FormEvents&&Roblox.FormEvents.SendInteractionClick(h.params.Context,n)},h.clearError=function(){h.error=null},h.getCredentialPlaceholder=function(){return h.data.isDefaultLoginRequired?u.usernamePlaceholder:h.data.isLoginWithEmailEnabled&&h.data.isLoginWithPhoneEnabled?u.usernameEmailPhonePlaceholder:h.data.isLoginWithEmailEnabled?u.usernameEmailPlaceholder:h.data.isLoginWithPhoneEnabled?u.usernamePhonePlaceholder:u.usernamePlaceholder},h.isEmail=function(n){return n&&n.indexOf(o.atSymbol)>-1}}]);

;// ~/viewapp/widgets/login/components/loginPageComponent.js
login.component("loginPage",{templateUrl:"login-page",bindings:{params:"<"},controller:["urlConstants",function(n){var t=this;Roblox.LoginMeta&&(t.data={signupUrl:Roblox.LoginMeta.signupUrl}),t.$onInit=function(){var i=t.params.ReturnUrl,r,u;i&&(r={returnUrl:i},u=n.urlQueryStringPrefix+$.param(r),t.data.signupUrl+=u)}}]});

;// ~/viewapp/widgets/login/components/loginFormComponent.js
login.component("loginForm",{templateUrl:"login-form",bindings:{params:"<"},controller:"loginFormController"});

;// Navigation/ShopAmazon.js
Roblox=Roblox||{},Roblox.ShopAmazon=function(){function i(){$("a.roblox-shop-interstitial").on("click",function(i){i.preventDefault();var u={title:"You are leaving Roblox",accept:"Continue to Shop",decline:"Cancel",bodyContent:function(){return"<p>You are about to visit our Amazon store. You will be redirected to Roblox merchandise store on <a class='text-link' target='_blank' href='"+t+"' >Amazon.com</a>.</p> <p>Please note that you need to be over 18 to purchase products online. The Amazon store is not part of Roblox.com and is governed by a separate privacy policy.</p>"}};n&&(u={title:n.f(Roblox.Lang.ShopDialogResources["Heading.LeavingRoblox"]),accept:n.f(Roblox.Lang.ShopDialogResources["Action.ContinueToShop"]),decline:n.f(Roblox.Lang.ShopDialogResources["Action.Cancel"]),bodyContent:function(){var i="<a class='text-link' target='_blank' href='"+t+"' >Amazon.com</a>",r=n.f(Roblox.Lang.ShopDialogResources["Description.AmazonRedirect"],{shopLink:i}),u=n.f(Roblox.Lang.ShopDialogResources["Description.AgeWarning"]);return"<p>"+r+"</p><p>"+u+"</p>"}}),Roblox.Dialog.open({titleText:u.title,bodyContent:u.bodyContent(),allowHtmlContentInBody:!0,acceptText:u.accept,declineText:u.decline,xToCancel:!0,acceptColor:Roblox.Dialog.green,declineColor:Roblox.Dialog.white,onAccept:r})})}function r(){window.open(t,"_blank")}function u(){t=$("#i18nForAmazonShopSwitch").data("amazon-store-url"),n=$("#i18nForAmazonShopSwitch").data("is-i18n-enabled-for-shop-amazon-dialog")?new Roblox.Intl:!1,i()}var n,t;$(function(){u()})}();

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// utilities/dialog.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Dialog=="undefined"&&(Roblox.Dialog=function(){function g(f){var k,c,v,w,o,b;n.isOpen=!0,k={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Lang.ControlsResources["Action.Yes"]||a.Yes,declineText:Roblox.Lang.ControlsResources["Action.No"]||a.No,acceptColor:h,declineColor:s,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,showAccept:!0,showDecline:!0,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},onCloseCallback:t,cssClass:null,checkboxAgreementText:Roblox.Lang.ControlsResources["Action.Agree"]||a.Agree,checkboxAgreementRequired:!1},f=$.extend({},k,f),i.overlayClose=f.dismissable,i.escClose=f.dismissable,f.onCloseCallback&&(i.onClose=function(){f.onCloseCallback(),t()}),c=$(u),c.html(f.acceptText),c.attr("class",f.acceptColor),c.unbind(),c.bind("click",function(){return p(c)?!1:(f.fieldValidationRequired?nt(f.onAccept):l(f.onAccept),!1)}),v=$(e),v.html(f.declineText),v.attr("class",f.declineColor),v.unbind(),v.bind("click",function(){return p(v)?!1:(l(f.onDecline),!1)}),w=$(tt),w.unbind(),w.bind("change",function(){w.is(":checked")?y(c):r(c)}),o=$('[data-modal-type="confirmation"]'),o.find(".modal-title").text(f.titleText),f.imageUrl==null?o.addClass("noImage"):(o.find("img.modal-thumb").attr("src",f.imageUrl),o.removeClass("noImage")),n.extraClass&&(o.removeClass(n.extraClass),n.extraClass=!1),f.cssClass!=null&&(o.addClass(f.cssClass),n.extraClass=f.cssClass),f.allowHtmlContentInBody?o.find(".modal-message").html(f.bodyContent):o.find(".modal-message").text(f.bodyContent),f.checkboxAgreementRequired?(r(c),o.find(".modal-checkbox.checkbox > input").prop("checked",!1),o.find(".modal-checkbox.checkbox > label").text(f.checkboxAgreementText),o.find(".modal-checkbox.checkbox").show()):(o.find(".modal-checkbox.checkbox > input").prop("checked",!0),o.find(".modal-checkbox.checkbox").hide()),$.trim(f.footerText)==""?o.find(".modal-footer").hide():o.find(".modal-footer").show(),f.allowHtmlContentInFooter?o.find(".modal-footer").html(f.footerText):o.find(".modal-footer").text(f.footerText),o.modal(i),b=$(d+" .modal-header .close"),b.unbind(),b.bind("click",function(){return l(f.onCancel),!1}),f.xToCancel||b.hide(),f.showAccept||c.hide(),f.showDecline||v.hide(),$("#rbx-body").addClass("modal-mask"),f.onOpenCallback()}function r(n){n.hasClass(s)?n.addClass(f):n.hasClass(v)?n.addClass(o):n.hasClass(h)&&n.addClass(c)}function p(n){return n.hasClass(c)||n.hasClass(f)||n.hasClass(o)?!0:!1}function rt(){var n=$(u),t=$(e);r(n),r(t)}function y(n){n.hasClass(f)?(n.removeClass(f),n.addClass(s)):n.hasClass(o)?(n.removeClass(o),n.addClass(v)):n.hasClass(c)&&(n.removeClass(c),n.addClass(h))}function w(){var n=$(u),t=$(e);y(n),y(t)}function k(){if(n.isOpen){var t=$(u);t.click()}}function b(){var n=$(e);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function l(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}function ut(n,t){var i=$(".modal-body");n?(i.find(".modal-btns").hide(),i.find(".modal-processing").show()):(i.find(".modal-btns").show(),i.find(".modal-processing").hide()),typeof t!="undefined"&&t!==""&&$.modal.close("."+t)}var d=".simplemodal-container",v="btn-primary-md",h="btn-secondary-md",s="btn-control-md",o="btn-primary-md disabled",c="btn-secondary-md disabled",f="btn-control-md disabled",it="btn-none",u=".modal-btns #confirm-btn",e=".modal-btns #decline-btn",tt="#modal-checkbox-input",n={isOpen:!1},i={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:t,focus:!1},a={Yes:"Yes",No:"No",Agree:"Agree"};return{open:g,close:t,disableButtons:rt,enableButtons:w,clickYes:k,clickNo:b,status:n,toggleProcessing:ut,green:v,blue:h,white:s,none:it}}()),$(document).keypress(function(n){Roblox.Dialog.isOpen&&n.which===13&&Roblox.Dialog.clickYes()});

;// common/deviceMeta.js
var Roblox=Roblox||{};Roblox.DeviceMeta=function(){var t=document.querySelector('meta[name="device-meta"]');if(t===null){console.debug("Error loading device information from meta tag - please check if meta tag is present");return}var n=t.dataset||{},i={android:"android",ios:"ios",xbox:"xbox",uwp:"uwp",amazon:"amazon",unknown:"unknown"},r={computer:"computer",tablet:"tablet",phone:"phone",console:"console"};return function(){return{deviceType:r[n.deviceType]||"",appType:i[n.appType]||"",isInApp:n.isInApp==="true",isDesktop:n.isDesktop==="true",isPhone:n.isPhone==="true",isTablet:n.isTablet==="true",isConsole:n.isConsole==="true",isAndroidApp:n.isAndroidApp==="true",isIosApp:n.isIosApp==="true",isUWPApp:n.isUwpApp==="true",isXboxApp:n.isXboxApp==="true",isAmazonApp:n.isAmazonApp==="true",isStudio:n.isStudio==="true"}}}();

;//Bundle detector
Roblox && Roblox.BundleDetector && Roblox.BundleDetector.bundleDetected('page');